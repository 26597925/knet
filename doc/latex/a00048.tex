\hypertarget{a00048}{}\section{E\+:/knet-\/git/knet/knet/framework.c 文件参考}
\label{a00048}\index{E\+:/knet-\/git/knet/knet/framework.\+c@{E\+:/knet-\/git/knet/knet/framework.\+c}}
{\ttfamily \#include \char`\"{}framework.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}loop.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}loop\+\_\+balancer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}channel\+\_\+ref.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}framework\+\_\+acceptor.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}framework\+\_\+worker.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}misc.\+h\char`\"{}}\\*
\subsection*{结构体}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{a00010}{\+\_\+framework\+\_\+config\+\_\+t}
\item 
struct \hyperlink{a00011}{\+\_\+framework\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{函数}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{a00048_a4f0e9b4ae9c3310e14e109d04f2978f5_a4f0e9b4ae9c3310e14e109d04f2978f5}{\+\_\+cleanup\+\_\+threads} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f)
\item 
\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$ \hyperlink{a00093_ga90b29a0c500209cb9b37437a32188a40_ga90b29a0c500209cb9b37437a32188a40}{framework\+\_\+create} ()
\begin{DoxyCompactList}\small\item\em 建立框架 \end{DoxyCompactList}\item 
void \hyperlink{a00093_gad1b6cb17014bfc515f8861bad3198e22_gad1b6cb17014bfc515f8861bad3198e22}{framework\+\_\+destroy} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f)
\begin{DoxyCompactList}\small\item\em 销毁框架 \end{DoxyCompactList}\item 
int \hyperlink{a00093_ga7579f69fe8d0ec6887e4594f52cbb883_ga7579f69fe8d0ec6887e4594f52cbb883}{framework\+\_\+start} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f, \hyperlink{a00047_ae296ec4d1ce108960de8dcc423956a1d_ae296ec4d1ce108960de8dcc423956a1d}{channel\+\_\+ref\+\_\+cb\+\_\+t} cb)
\begin{DoxyCompactList}\small\item\em 启动框架 \end{DoxyCompactList}\item 
int \hyperlink{a00093_gadd2b49ff4ff090a4490bd0128d00efba_gadd2b49ff4ff090a4490bd0128d00efba}{framework\+\_\+start\+\_\+wait} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f, \hyperlink{a00047_ae296ec4d1ce108960de8dcc423956a1d_ae296ec4d1ce108960de8dcc423956a1d}{channel\+\_\+ref\+\_\+cb\+\_\+t} cb)
\begin{DoxyCompactList}\small\item\em 启动框架并等待框架关闭 \end{DoxyCompactList}\item 
int \hyperlink{a00093_ga0593beee9da9b0858ad53c4f81671622_ga0593beee9da9b0858ad53c4f81671622}{framework\+\_\+start\+\_\+wait\+\_\+destroy} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f, \hyperlink{a00047_ae296ec4d1ce108960de8dcc423956a1d_ae296ec4d1ce108960de8dcc423956a1d}{channel\+\_\+ref\+\_\+cb\+\_\+t} cb)
\begin{DoxyCompactList}\small\item\em 启动框架并等待框架关闭，如果启动失败或者框架关闭则销毁 \end{DoxyCompactList}\item 
void \hyperlink{a00093_gaefec7da1b548ddb97c73c8924ba17069_gaefec7da1b548ddb97c73c8924ba17069}{framework\+\_\+wait\+\_\+for\+\_\+stop} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f)
\begin{DoxyCompactList}\small\item\em 等待框架停止 \end{DoxyCompactList}\item 
int \hyperlink{a00093_ga429be76d09278d6170f1b519f4dbb689_ga429be76d09278d6170f1b519f4dbb689}{framework\+\_\+stop} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f)
\begin{DoxyCompactList}\small\item\em 关闭框架 \end{DoxyCompactList}\item 
\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$ \hyperlink{a00093_gaf0524cc257c8e57ba11d676dcca6bf64_gaf0524cc257c8e57ba11d676dcca6bf64}{framework\+\_\+get\+\_\+config} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f)
\begin{DoxyCompactList}\small\item\em 取得框架配置 \end{DoxyCompactList}\item 
void \hyperlink{a00093_ga63620720efce87c837a3f069f626f6b1_ga63620720efce87c837a3f069f626f6b1}{framework\+\_\+config\+\_\+set\+\_\+address} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c, const char $\ast$ip, int port)
\begin{DoxyCompactList}\small\item\em 设置\+I\+P地址和监听端口 \end{DoxyCompactList}\item 
const char $\ast$ \hyperlink{a00048_a4a950b4ce87471eda9a85d7be33ec67a_a4a950b4ce87471eda9a85d7be33ec67a}{framework\+\_\+config\+\_\+get\+\_\+ip} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c)
\begin{DoxyCompactList}\small\item\em 获取\+I\+P \end{DoxyCompactList}\item 
int \hyperlink{a00048_a84c24d4b8c5e5d03e1942277d21743e5_a84c24d4b8c5e5d03e1942277d21743e5}{framework\+\_\+config\+\_\+get\+\_\+port} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c)
\begin{DoxyCompactList}\small\item\em 获取监听端口 \end{DoxyCompactList}\item 
void \hyperlink{a00093_gafdcba98785a6e0c7729c14eac004c1e3_gafdcba98785a6e0c7729c14eac004c1e3}{framework\+\_\+config\+\_\+set\+\_\+backlog} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c, int backlog)
\begin{DoxyCompactList}\small\item\em 设置backlog \end{DoxyCompactList}\item 
int \hyperlink{a00048_a7e20403dae6bc1195d506af7909641b4_a7e20403dae6bc1195d506af7909641b4}{framework\+\_\+config\+\_\+get\+\_\+backlog} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c)
\begin{DoxyCompactList}\small\item\em 获取backlog \end{DoxyCompactList}\item 
void \hyperlink{a00093_ga46fc5d54c72138bced5ddd4068ef77e5_ga46fc5d54c72138bced5ddd4068ef77e5}{framework\+\_\+config\+\_\+set\+\_\+worker\+\_\+thread\+\_\+count} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c, int worker\+\_\+thread\+\_\+count)
\begin{DoxyCompactList}\small\item\em 设置工作线程数量，默认为单线程 \end{DoxyCompactList}\item 
void \hyperlink{a00093_ga6d3affd6639a3d75920197811c333fac_ga6d3affd6639a3d75920197811c333fac}{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+send\+\_\+list} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c, int max\+\_\+send\+\_\+list)
\begin{DoxyCompactList}\small\item\em 设置接受到连接的发送队列最大长度 \end{DoxyCompactList}\item 
int \hyperlink{a00048_a5fdcaba78c9cbaa69f506d5eed77ca3b_a5fdcaba78c9cbaa69f506d5eed77ca3b}{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+send\+\_\+list} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c)
\begin{DoxyCompactList}\small\item\em 获取发送链表最大元素数 \end{DoxyCompactList}\item 
void \hyperlink{a00093_ga582e128041da47fa6578aa150b5a615a_ga582e128041da47fa6578aa150b5a615a}{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+recv\+\_\+buffer} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c, int max\+\_\+recv\+\_\+buffer)
\begin{DoxyCompactList}\small\item\em 设置接受到连接的接收缓冲区最大长度 \end{DoxyCompactList}\item 
int \hyperlink{a00048_a1e7e3927ce054f250cd3d87fe9d2705d_a1e7e3927ce054f250cd3d87fe9d2705d}{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+recv\+\_\+buffer} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c)
\begin{DoxyCompactList}\small\item\em 获取接收缓冲区最大长度 \end{DoxyCompactList}\item 
void \hyperlink{a00093_ga22047d5186ce58243e3c4308dd851ab6_ga22047d5186ce58243e3c4308dd851ab6}{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+idle\+\_\+timeout} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c, int max\+\_\+idle\+\_\+timeout)
\begin{DoxyCompactList}\small\item\em 设置接受到连接的心跳超时时间 \end{DoxyCompactList}\item 
int \hyperlink{a00048_aca3f6b57e6c3e601ddf2ecd8d536aa32_aca3f6b57e6c3e601ddf2ecd8d536aa32}{framework\+\_\+config\+\_\+get\+\_\+worker\+\_\+thread\+\_\+count} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c)
\begin{DoxyCompactList}\small\item\em 获取工作线程数量 \end{DoxyCompactList}\item 
\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$ \hyperlink{a00048_a86930a2422f44672a2ddde80fb6a5b5a_a86930a2422f44672a2ddde80fb6a5b5a}{framework\+\_\+config\+\_\+create} ()
\begin{DoxyCompactList}\small\item\em 建立框架配置器 \end{DoxyCompactList}\item 
void \hyperlink{a00048_a4a798f64988a0fe651e2f247acae55b2_a4a798f64988a0fe651e2f247acae55b2}{framework\+\_\+config\+\_\+destroy} (\hyperlink{a00047_a55b26efa9e6ee05514d087ba2593a54b_a55b26efa9e6ee05514d087ba2593a54b}{framework\+\_\+config\+\_\+t} $\ast$c)
\begin{DoxyCompactList}\small\item\em 销毁框架配置器 \end{DoxyCompactList}\item 
\hyperlink{a00047_a649c7e850ab247b5f70ad27e335a129d_a649c7e850ab247b5f70ad27e335a129d}{loop\+\_\+balancer\+\_\+t} $\ast$ \hyperlink{a00048_a1cd41581680bc47f0d86d625fc3234ae_a1cd41581680bc47f0d86d625fc3234ae}{framework\+\_\+get\+\_\+balancer} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f)
\begin{DoxyCompactList}\small\item\em 获取负载均衡器 \end{DoxyCompactList}\item 
\hyperlink{a00047_ae296ec4d1ce108960de8dcc423956a1d_ae296ec4d1ce108960de8dcc423956a1d}{channel\+\_\+ref\+\_\+cb\+\_\+t} \hyperlink{a00048_a4ff98245e1050ce4ddd0ced3bebe6b43_a4ff98245e1050ce4ddd0ced3bebe6b43}{framework\+\_\+get\+\_\+cb} (\hyperlink{a00047_a6149d769f6f07ed14a40a271c95d8463_a6149d769f6f07ed14a40a271c95d8463}{framework\+\_\+t} $\ast$f)
\begin{DoxyCompactList}\small\item\em 获取管道回调 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{函数说明}
\hypertarget{a00048_a4f0e9b4ae9c3310e14e109d04f2978f5_a4f0e9b4ae9c3310e14e109d04f2978f5}{}\index{framework.\+c@{framework.\+c}!\+\_\+cleanup\+\_\+threads@{\+\_\+cleanup\+\_\+threads}}
\index{\+\_\+cleanup\+\_\+threads@{\+\_\+cleanup\+\_\+threads}!framework.\+c@{framework.\+c}}
\subsubsection[{\+\_\+cleanup\+\_\+threads}]{\setlength{\rightskip}{0pt plus 5cm}void \+\_\+cleanup\+\_\+threads (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{a00048_a4f0e9b4ae9c3310e14e109d04f2978f5_a4f0e9b4ae9c3310e14e109d04f2978f5}
\hypertarget{a00048_a86930a2422f44672a2ddde80fb6a5b5a_a86930a2422f44672a2ddde80fb6a5b5a}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+create@{framework\+\_\+config\+\_\+create}}
\index{framework\+\_\+config\+\_\+create@{framework\+\_\+config\+\_\+create}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf framework\+\_\+config\+\_\+t}$\ast$ framework\+\_\+config\+\_\+create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{a00048_a86930a2422f44672a2ddde80fb6a5b5a_a86930a2422f44672a2ddde80fb6a5b5a}


建立框架配置器 

\begin{DoxyReturn}{返回}
framework\+\_\+config\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00048_a4a798f64988a0fe651e2f247acae55b2_a4a798f64988a0fe651e2f247acae55b2}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+destroy@{framework\+\_\+config\+\_\+destroy}}
\index{framework\+\_\+config\+\_\+destroy@{framework\+\_\+config\+\_\+destroy}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+config\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c}
\end{DoxyParamCaption}
)}\label{a00048_a4a798f64988a0fe651e2f247acae55b2_a4a798f64988a0fe651e2f247acae55b2}


销毁框架配置器 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
\end{DoxyParams}
\hypertarget{a00048_a7e20403dae6bc1195d506af7909641b4_a7e20403dae6bc1195d506af7909641b4}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+get\+\_\+backlog@{framework\+\_\+config\+\_\+get\+\_\+backlog}}
\index{framework\+\_\+config\+\_\+get\+\_\+backlog@{framework\+\_\+config\+\_\+get\+\_\+backlog}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+get\+\_\+backlog}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+config\+\_\+get\+\_\+backlog (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c}
\end{DoxyParamCaption}
)}\label{a00048_a7e20403dae6bc1195d506af7909641b4_a7e20403dae6bc1195d506af7909641b4}


获取backlog 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
backlog 
\end{DoxyReturn}
\hypertarget{a00048_a4a950b4ce87471eda9a85d7be33ec67a_a4a950b4ce87471eda9a85d7be33ec67a}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+get\+\_\+ip@{framework\+\_\+config\+\_\+get\+\_\+ip}}
\index{framework\+\_\+config\+\_\+get\+\_\+ip@{framework\+\_\+config\+\_\+get\+\_\+ip}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+get\+\_\+ip}]{\setlength{\rightskip}{0pt plus 5cm}const char$\ast$ framework\+\_\+config\+\_\+get\+\_\+ip (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c}
\end{DoxyParamCaption}
)}\label{a00048_a4a950b4ce87471eda9a85d7be33ec67a_a4a950b4ce87471eda9a85d7be33ec67a}


获取\+I\+P 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
I\+P 
\end{DoxyReturn}
\hypertarget{a00048_a1e7e3927ce054f250cd3d87fe9d2705d_a1e7e3927ce054f250cd3d87fe9d2705d}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+get\+\_\+max\+\_\+recv\+\_\+buffer@{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+recv\+\_\+buffer}}
\index{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+recv\+\_\+buffer@{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+recv\+\_\+buffer}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+recv\+\_\+buffer}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+config\+\_\+get\+\_\+max\+\_\+recv\+\_\+buffer (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c}
\end{DoxyParamCaption}
)}\label{a00048_a1e7e3927ce054f250cd3d87fe9d2705d_a1e7e3927ce054f250cd3d87fe9d2705d}


获取接收缓冲区最大长度 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
接收缓冲区最大长度 
\end{DoxyReturn}
\hypertarget{a00048_a5fdcaba78c9cbaa69f506d5eed77ca3b_a5fdcaba78c9cbaa69f506d5eed77ca3b}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+get\+\_\+max\+\_\+send\+\_\+list@{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+send\+\_\+list}}
\index{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+send\+\_\+list@{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+send\+\_\+list}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+get\+\_\+max\+\_\+send\+\_\+list}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+config\+\_\+get\+\_\+max\+\_\+send\+\_\+list (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c}
\end{DoxyParamCaption}
)}\label{a00048_a5fdcaba78c9cbaa69f506d5eed77ca3b_a5fdcaba78c9cbaa69f506d5eed77ca3b}


获取发送链表最大元素数 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
发送链表最大元素数 
\end{DoxyReturn}
\hypertarget{a00048_a84c24d4b8c5e5d03e1942277d21743e5_a84c24d4b8c5e5d03e1942277d21743e5}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+get\+\_\+port@{framework\+\_\+config\+\_\+get\+\_\+port}}
\index{framework\+\_\+config\+\_\+get\+\_\+port@{framework\+\_\+config\+\_\+get\+\_\+port}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+get\+\_\+port}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+config\+\_\+get\+\_\+port (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c}
\end{DoxyParamCaption}
)}\label{a00048_a84c24d4b8c5e5d03e1942277d21743e5_a84c24d4b8c5e5d03e1942277d21743e5}


获取监听端口 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
监听端口 
\end{DoxyReturn}
\hypertarget{a00048_aca3f6b57e6c3e601ddf2ecd8d536aa32_aca3f6b57e6c3e601ddf2ecd8d536aa32}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+get\+\_\+worker\+\_\+thread\+\_\+count@{framework\+\_\+config\+\_\+get\+\_\+worker\+\_\+thread\+\_\+count}}
\index{framework\+\_\+config\+\_\+get\+\_\+worker\+\_\+thread\+\_\+count@{framework\+\_\+config\+\_\+get\+\_\+worker\+\_\+thread\+\_\+count}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+get\+\_\+worker\+\_\+thread\+\_\+count}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+config\+\_\+get\+\_\+worker\+\_\+thread\+\_\+count (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c}
\end{DoxyParamCaption}
)}\label{a00048_aca3f6b57e6c3e601ddf2ecd8d536aa32_aca3f6b57e6c3e601ddf2ecd8d536aa32}


获取工作线程数量 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
工作线程数量 
\end{DoxyReturn}
\hypertarget{a00093_ga63620720efce87c837a3f069f626f6b1_ga63620720efce87c837a3f069f626f6b1}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+set\+\_\+address@{framework\+\_\+config\+\_\+set\+\_\+address}}
\index{framework\+\_\+config\+\_\+set\+\_\+address@{framework\+\_\+config\+\_\+set\+\_\+address}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+set\+\_\+address}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+config\+\_\+set\+\_\+address (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c, }
\item[{const char $\ast$}]{ip, }
\item[{int}]{port}
\end{DoxyParamCaption}
)}\label{a00093_ga63620720efce87c837a3f069f626f6b1_ga63620720efce87c837a3f069f626f6b1}


设置\+I\+P地址和监听端口 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
{\em ip} & I\+P \\
\hline
{\em port} & 端口 \\
\hline
\end{DoxyParams}
\hypertarget{a00093_gafdcba98785a6e0c7729c14eac004c1e3_gafdcba98785a6e0c7729c14eac004c1e3}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+set\+\_\+backlog@{framework\+\_\+config\+\_\+set\+\_\+backlog}}
\index{framework\+\_\+config\+\_\+set\+\_\+backlog@{framework\+\_\+config\+\_\+set\+\_\+backlog}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+set\+\_\+backlog}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+config\+\_\+set\+\_\+backlog (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c, }
\item[{int}]{backlog}
\end{DoxyParamCaption}
)}\label{a00093_gafdcba98785a6e0c7729c14eac004c1e3_gafdcba98785a6e0c7729c14eac004c1e3}


设置backlog 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
{\em backlog} & 等待队列长度 \\
\hline
\end{DoxyParams}
\hypertarget{a00093_ga22047d5186ce58243e3c4308dd851ab6_ga22047d5186ce58243e3c4308dd851ab6}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+set\+\_\+max\+\_\+idle\+\_\+timeout@{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+idle\+\_\+timeout}}
\index{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+idle\+\_\+timeout@{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+idle\+\_\+timeout}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+idle\+\_\+timeout}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+config\+\_\+set\+\_\+max\+\_\+idle\+\_\+timeout (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c, }
\item[{int}]{max\+\_\+idle\+\_\+timeout}
\end{DoxyParamCaption}
)}\label{a00093_ga22047d5186ce58243e3c4308dd851ab6_ga22047d5186ce58243e3c4308dd851ab6}


设置接受到连接的心跳超时时间 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
{\em max\+\_\+idle\+\_\+timeout} & 接受到连接的心跳超时时间 \\
\hline
\end{DoxyParams}
\hypertarget{a00093_ga582e128041da47fa6578aa150b5a615a_ga582e128041da47fa6578aa150b5a615a}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+set\+\_\+max\+\_\+recv\+\_\+buffer@{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+recv\+\_\+buffer}}
\index{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+recv\+\_\+buffer@{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+recv\+\_\+buffer}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+recv\+\_\+buffer}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+config\+\_\+set\+\_\+max\+\_\+recv\+\_\+buffer (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c, }
\item[{int}]{max\+\_\+recv\+\_\+buffer}
\end{DoxyParamCaption}
)}\label{a00093_ga582e128041da47fa6578aa150b5a615a_ga582e128041da47fa6578aa150b5a615a}


设置接受到连接的接收缓冲区最大长度 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
{\em max\+\_\+recv\+\_\+buffer} & 接受到连接的接收缓冲区最大长度 \\
\hline
\end{DoxyParams}
\hypertarget{a00093_ga6d3affd6639a3d75920197811c333fac_ga6d3affd6639a3d75920197811c333fac}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+set\+\_\+max\+\_\+send\+\_\+list@{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+send\+\_\+list}}
\index{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+send\+\_\+list@{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+send\+\_\+list}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+set\+\_\+max\+\_\+send\+\_\+list}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+config\+\_\+set\+\_\+max\+\_\+send\+\_\+list (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c, }
\item[{int}]{max\+\_\+send\+\_\+list}
\end{DoxyParamCaption}
)}\label{a00093_ga6d3affd6639a3d75920197811c333fac_ga6d3affd6639a3d75920197811c333fac}


设置接受到连接的发送队列最大长度 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
{\em max\+\_\+send\+\_\+list} & 接受到连接的发送队列最大长度 \\
\hline
\end{DoxyParams}
\hypertarget{a00093_ga46fc5d54c72138bced5ddd4068ef77e5_ga46fc5d54c72138bced5ddd4068ef77e5}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+config\+\_\+set\+\_\+worker\+\_\+thread\+\_\+count@{framework\+\_\+config\+\_\+set\+\_\+worker\+\_\+thread\+\_\+count}}
\index{framework\+\_\+config\+\_\+set\+\_\+worker\+\_\+thread\+\_\+count@{framework\+\_\+config\+\_\+set\+\_\+worker\+\_\+thread\+\_\+count}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+config\+\_\+set\+\_\+worker\+\_\+thread\+\_\+count}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+config\+\_\+set\+\_\+worker\+\_\+thread\+\_\+count (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+config\+\_\+t} $\ast$}]{c, }
\item[{int}]{worker\+\_\+thread\+\_\+count}
\end{DoxyParamCaption}
)}\label{a00093_ga46fc5d54c72138bced5ddd4068ef77e5_ga46fc5d54c72138bced5ddd4068ef77e5}


设置工作线程数量，默认为单线程 


\begin{DoxyParams}{参数}
{\em c} & framework\+\_\+config\+\_\+t实例 \\
\hline
{\em worker\+\_\+thread\+\_\+count} & 工作线程数量 \\
\hline
\end{DoxyParams}
\hypertarget{a00093_ga90b29a0c500209cb9b37437a32188a40_ga90b29a0c500209cb9b37437a32188a40}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+create@{framework\+\_\+create}}
\index{framework\+\_\+create@{framework\+\_\+create}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf framework\+\_\+t}$\ast$ framework\+\_\+create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{a00093_ga90b29a0c500209cb9b37437a32188a40_ga90b29a0c500209cb9b37437a32188a40}


建立框架 

\begin{DoxyReturn}{返回}
framework\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00093_gad1b6cb17014bfc515f8861bad3198e22_gad1b6cb17014bfc515f8861bad3198e22}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+destroy@{framework\+\_\+destroy}}
\index{framework\+\_\+destroy@{framework\+\_\+destroy}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{a00093_gad1b6cb17014bfc515f8861bad3198e22_gad1b6cb17014bfc515f8861bad3198e22}


销毁框架 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
\end{DoxyParams}
\hypertarget{a00048_a1cd41581680bc47f0d86d625fc3234ae_a1cd41581680bc47f0d86d625fc3234ae}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+get\+\_\+balancer@{framework\+\_\+get\+\_\+balancer}}
\index{framework\+\_\+get\+\_\+balancer@{framework\+\_\+get\+\_\+balancer}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+get\+\_\+balancer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf loop\+\_\+balancer\+\_\+t}$\ast$ framework\+\_\+get\+\_\+balancer (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{a00048_a1cd41581680bc47f0d86d625fc3234ae_a1cd41581680bc47f0d86d625fc3234ae}


获取负载均衡器 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
loop\+\_\+balancer\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00048_a4ff98245e1050ce4ddd0ced3bebe6b43_a4ff98245e1050ce4ddd0ced3bebe6b43}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+get\+\_\+cb@{framework\+\_\+get\+\_\+cb}}
\index{framework\+\_\+get\+\_\+cb@{framework\+\_\+get\+\_\+cb}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+get\+\_\+cb}]{\setlength{\rightskip}{0pt plus 5cm}{\bf channel\+\_\+ref\+\_\+cb\+\_\+t} framework\+\_\+get\+\_\+cb (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{a00048_a4ff98245e1050ce4ddd0ced3bebe6b43_a4ff98245e1050ce4ddd0ced3bebe6b43}


获取管道回调 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
管道回调函数指针 
\end{DoxyReturn}
\hypertarget{a00093_gaf0524cc257c8e57ba11d676dcca6bf64_gaf0524cc257c8e57ba11d676dcca6bf64}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+get\+\_\+config@{framework\+\_\+get\+\_\+config}}
\index{framework\+\_\+get\+\_\+config@{framework\+\_\+get\+\_\+config}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+get\+\_\+config}]{\setlength{\rightskip}{0pt plus 5cm}{\bf framework\+\_\+config\+\_\+t}$\ast$ framework\+\_\+get\+\_\+config (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{a00093_gaf0524cc257c8e57ba11d676dcca6bf64_gaf0524cc257c8e57ba11d676dcca6bf64}


取得框架配置 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
framework\+\_\+config\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00093_ga7579f69fe8d0ec6887e4594f52cbb883_ga7579f69fe8d0ec6887e4594f52cbb883}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+start@{framework\+\_\+start}}
\index{framework\+\_\+start@{framework\+\_\+start}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+start}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f, }
\item[{{\bf channel\+\_\+ref\+\_\+cb\+\_\+t}}]{cb}
\end{DoxyParamCaption}
)}\label{a00093_ga7579f69fe8d0ec6887e4594f52cbb883_ga7579f69fe8d0ec6887e4594f52cbb883}


启动框架 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
{\em cb} & 框架回调函数 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00093_gadd2b49ff4ff090a4490bd0128d00efba_gadd2b49ff4ff090a4490bd0128d00efba}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+start\+\_\+wait@{framework\+\_\+start\+\_\+wait}}
\index{framework\+\_\+start\+\_\+wait@{framework\+\_\+start\+\_\+wait}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+start\+\_\+wait}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+start\+\_\+wait (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f, }
\item[{{\bf channel\+\_\+ref\+\_\+cb\+\_\+t}}]{cb}
\end{DoxyParamCaption}
)}\label{a00093_gadd2b49ff4ff090a4490bd0128d00efba_gadd2b49ff4ff090a4490bd0128d00efba}


启动框架并等待框架关闭 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
{\em cb} & 框架回调函数 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00093_ga0593beee9da9b0858ad53c4f81671622_ga0593beee9da9b0858ad53c4f81671622}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+start\+\_\+wait\+\_\+destroy@{framework\+\_\+start\+\_\+wait\+\_\+destroy}}
\index{framework\+\_\+start\+\_\+wait\+\_\+destroy@{framework\+\_\+start\+\_\+wait\+\_\+destroy}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+start\+\_\+wait\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+start\+\_\+wait\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f, }
\item[{{\bf channel\+\_\+ref\+\_\+cb\+\_\+t}}]{cb}
\end{DoxyParamCaption}
)}\label{a00093_ga0593beee9da9b0858ad53c4f81671622_ga0593beee9da9b0858ad53c4f81671622}


启动框架并等待框架关闭，如果启动失败或者框架关闭则销毁 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
{\em cb} & 框架回调函数 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00093_ga429be76d09278d6170f1b519f4dbb689_ga429be76d09278d6170f1b519f4dbb689}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+stop@{framework\+\_\+stop}}
\index{framework\+\_\+stop@{framework\+\_\+stop}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+stop}]{\setlength{\rightskip}{0pt plus 5cm}int framework\+\_\+stop (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{a00093_ga429be76d09278d6170f1b519f4dbb689_ga429be76d09278d6170f1b519f4dbb689}


关闭框架 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00093_gaefec7da1b548ddb97c73c8924ba17069_gaefec7da1b548ddb97c73c8924ba17069}{}\index{framework.\+c@{framework.\+c}!framework\+\_\+wait\+\_\+for\+\_\+stop@{framework\+\_\+wait\+\_\+for\+\_\+stop}}
\index{framework\+\_\+wait\+\_\+for\+\_\+stop@{framework\+\_\+wait\+\_\+for\+\_\+stop}!framework.\+c@{framework.\+c}}
\subsubsection[{framework\+\_\+wait\+\_\+for\+\_\+stop}]{\setlength{\rightskip}{0pt plus 5cm}void framework\+\_\+wait\+\_\+for\+\_\+stop (
\begin{DoxyParamCaption}
\item[{{\bf framework\+\_\+t} $\ast$}]{f}
\end{DoxyParamCaption}
)}\label{a00093_gaefec7da1b548ddb97c73c8924ba17069_gaefec7da1b548ddb97c73c8924ba17069}


等待框架停止 


\begin{DoxyParams}{参数}
{\em f} & framework\+\_\+t实例 \\
\hline
\end{DoxyParams}
