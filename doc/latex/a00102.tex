\hypertarget{a00102}{}\section{E\+:/knet-\/git/knet/knet/node.h 文件参考}
\label{a00102}\index{E\+:/knet-\/git/knet/knet/node.\+h@{E\+:/knet-\/git/knet/knet/node.\+h}}
{\ttfamily \#include \char`\"{}config.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}node\+\_\+api.\+h\char`\"{}}\\*
\subsection*{函数}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{a00102_afa81e5a2fe15a15a3ee08696ebb9fb7f_afa81e5a2fe15a15a3ee08696ebb9fb7f}{knet\+\_\+node\+\_\+add\+\_\+node} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node, uint32\+\_\+t type, uint32\+\_\+t id, \hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 添加节点代理 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a8e76a4e4b505064bc36779f415bf1b98_a8e76a4e4b505064bc36779f415bf1b98}{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+channel\+\_\+ref} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node, \hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 删除节点代理 \end{DoxyCompactList}\item 
int \hyperlink{a00102_afd42a88def40617892cb161ebee49a8b_afd42a88def40617892cb161ebee49a8b}{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+id} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node, uint32\+\_\+t id)
\begin{DoxyCompactList}\small\item\em 删除节点代理 \end{DoxyCompactList}\item 
\hyperlink{a00066_a5025c3e4422f5f55b981aad6e56b6d89_a5025c3e4422f5f55b981aad6e56b6d89}{knode\+\_\+proxy\+\_\+t} $\ast$ \hyperlink{a00102_ab454c97d2a6363ac5f69e954bad84992_ab454c97d2a6363ac5f69e954bad84992}{node\+\_\+proxy\+\_\+create} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$self)
\begin{DoxyCompactList}\small\item\em 建立节点代理 \end{DoxyCompactList}\item 
void \hyperlink{a00102_af6bad41d52b417a55c11da5cea7fc3fb_af6bad41d52b417a55c11da5cea7fc3fb}{node\+\_\+proxy\+\_\+destroy} (\hyperlink{a00066_a5025c3e4422f5f55b981aad6e56b6d89_a5025c3e4422f5f55b981aad6e56b6d89}{knode\+\_\+proxy\+\_\+t} $\ast$proxy)
\begin{DoxyCompactList}\small\item\em 销毁节点代理 \end{DoxyCompactList}\item 
void \hyperlink{a00102_a19fc8de5ab5967c2625e61ff869f6547_a19fc8de5ab5967c2625e61ff869f6547}{hash\+\_\+node\+\_\+channel\+\_\+id\+\_\+dtor} (void $\ast$param)
\begin{DoxyCompactList}\small\item\em 哈希表值销毁函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a8fe081822efe2065d27b69ab0c2f1386_a8fe081822efe2065d27b69ab0c2f1386}{node\+\_\+root\+\_\+start} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 启动根节点监听器 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a9bae6e0e7f362d9dae9ee27d42ad0e78_a9bae6e0e7f362d9dae9ee27d42ad0e78}{node\+\_\+connect\+\_\+root} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 连接根节点 \end{DoxyCompactList}\item 
int \hyperlink{a00102_aa7e1bfaa23bf8cc7241c034063296cf6_aa7e1bfaa23bf8cc7241c034063296cf6}{node\+\_\+local\+\_\+start} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 启动节点监听器 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a5e5fcccd2fb05ab7a07f8c005099f84d_a5e5fcccd2fb05ab7a07f8c005099f84d}{node\+\_\+monitor\+\_\+start} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 启动节点监控端口 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a2f0598c2b8f04a787f9016afb1247b63_a2f0598c2b8f04a787f9016afb1247b63}{node\+\_\+manage\+\_\+start} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 启动节点管理端口 \end{DoxyCompactList}\item 
int \hyperlink{a00102_af21be279fb6545838987e35d2022d8de_af21be279fb6545838987e35d2022d8de}{node\+\_\+open\+\_\+filter\+\_\+files} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 读取\+I\+P黑/白名单文件 \end{DoxyCompactList}\item 
void \hyperlink{a00102_a54139242ade232ae556dc2781bf36c76_a54139242ade232ae556dc2781bf36c76}{node\+\_\+save\+\_\+filter\+\_\+files} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 保存\+I\+P黑/白名单文件 \end{DoxyCompactList}\item 
void \hyperlink{a00102_a01e50baec5274bf618ded8d00678e131_a01e50baec5274bf618ded8d00678e131}{node\+\_\+channel\+\_\+cb} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel, \hyperlink{a00066_a2fd2faf971268f5b682ab375c455f7c9_a2fd2faf971268f5b682ab375c455f7c9}{knet\+\_\+channel\+\_\+cb\+\_\+event\+\_\+e} e)
\begin{DoxyCompactList}\small\item\em 节点管道回调 \end{DoxyCompactList}\item 
void \hyperlink{a00102_a067d3665fb3a5e73408c4a27e5b2deca_a067d3665fb3a5e73408c4a27e5b2deca}{node\+\_\+monitor\+\_\+channel\+\_\+cb} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel, \hyperlink{a00066_a2fd2faf971268f5b682ab375c455f7c9_a2fd2faf971268f5b682ab375c455f7c9}{knet\+\_\+channel\+\_\+cb\+\_\+event\+\_\+e} e)
\begin{DoxyCompactList}\small\item\em 节点监控管道回调 \end{DoxyCompactList}\item 
void \hyperlink{a00102_ab050f58dec9e4479cf305004252c610c_ab050f58dec9e4479cf305004252c610c}{node\+\_\+manage\+\_\+channel\+\_\+cb} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel, \hyperlink{a00066_a2fd2faf971268f5b682ab375c455f7c9_a2fd2faf971268f5b682ab375c455f7c9}{knet\+\_\+channel\+\_\+cb\+\_\+event\+\_\+e} e)
\begin{DoxyCompactList}\small\item\em 节点管理管道回调 \end{DoxyCompactList}\item 
int \hyperlink{a00102_aa64e385bd42b4b6fe72cfcd137a99fe2_aa64e385bd42b4b6fe72cfcd137a99fe2}{node\+\_\+login\+\_\+req} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 发送节点身份验证请求 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a43805096b878b93a1118eabd0a5f9799_a43805096b878b93a1118eabd0a5f9799}{node\+\_\+login\+\_\+ack} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 发送节点身份验证应答 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a831f5f4ac169e5ed74b828acf7b39a1c_a831f5f4ac169e5ed74b828acf7b39a1c}{node\+\_\+send} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel, const void $\ast$data, uint32\+\_\+t size)
\begin{DoxyCompactList}\small\item\em 发送数据到其他节点 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a8dfe36d41c6c4a45445387aed78ef7dd_a8dfe36d41c6c4a45445387aed78ef7dd}{node\+\_\+broadcast\+\_\+join} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node, const char $\ast$ip, int port, uint32\+\_\+t type, uint32\+\_\+t id)
\begin{DoxyCompactList}\small\item\em 根节点通知其他节点有新节点加入集群 \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{a00102_a0348f37c23e35fb569269dbe683296c8_a0348f37c23e35fb569269dbe683296c8}{copy\+\_\+msg\+\_\+id} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 获取消息\+I\+D \end{DoxyCompactList}\item 
int \hyperlink{a00102_acb8219f989e66e827adc668bb0bb3649_acb8219f989e66e827adc668bb0bb3649}{node\+\_\+send\+\_\+heartbeat\+\_\+req} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 发送心跳请求 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a25f4321eb35ddd75d6e026a0055ade30_a25f4321eb35ddd75d6e026a0055ade30}{node\+\_\+send\+\_\+heartbeat\+\_\+ack} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 发送心跳应答 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a8265131106d1be7979dbe768f90201b2_a8265131106d1be7979dbe768f90201b2}{on\+\_\+node\+\_\+login\+\_\+req} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 身份验证请求处理函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a631409526fc946adb7f023a17d33cbae_a631409526fc946adb7f023a17d33cbae}{on\+\_\+node\+\_\+login\+\_\+ack} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 身份验证应答处理函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a97868db78a1ce888063dbd4709d2896b_a97868db78a1ce888063dbd4709d2896b}{on\+\_\+node\+\_\+join} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 新节点加入通知处理函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a32e1b1f54cd73d3cde296efe5bc9c39a_a32e1b1f54cd73d3cde296efe5bc9c39a}{on\+\_\+node\+\_\+data} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点数据处理函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a42e77e8c8913b99c23f3dab6b829b2ed_a42e77e8c8913b99c23f3dab6b829b2ed}{on\+\_\+node\+\_\+connect} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点管道成功处理函数 -\/ 主动连接 \end{DoxyCompactList}\item 
int \hyperlink{a00102_af2ac58191a40af414f62c9eccaeb4a5a_af2ac58191a40af414f62c9eccaeb4a5a}{on\+\_\+node\+\_\+accept} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点管道成功处理函数 -\/ 监听 \end{DoxyCompactList}\item 
int \hyperlink{a00102_afaaf2440e99559696a2376e6d43377b8_afaaf2440e99559696a2376e6d43377b8}{on\+\_\+node\+\_\+recv} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点管道数据处理函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a59bd737cbca597b352194fba73847e09_a59bd737cbca597b352194fba73847e09}{on\+\_\+node\+\_\+disjoin} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点内部协议处理入口函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_aba779004280bfcf35ff40461c51a19d4_aba779004280bfcf35ff40461c51a19d4}{on\+\_\+node\+\_\+timeout} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点管道超时处理函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_a54b613f98518c8c9f47634b97fe50668_a54b613f98518c8c9f47634b97fe50668}{on\+\_\+node\+\_\+heartbeat\+\_\+req} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点心跳请求处理函数 \end{DoxyCompactList}\item 
int \hyperlink{a00102_ab83aef21e082207c03bdb5dd9fb07b86_ab83aef21e082207c03bdb5dd9fb07b86}{on\+\_\+node\+\_\+heartbeat\+\_\+ack} (\hyperlink{a00066_a3b7e82599367eade261456f60ebe2cd9_a3b7e82599367eade261456f60ebe2cd9}{kchannel\+\_\+ref\+\_\+t} $\ast$channel)
\begin{DoxyCompactList}\small\item\em 节点心跳应答处理函数 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{函数说明}
\hypertarget{a00102_a0348f37c23e35fb569269dbe683296c8_a0348f37c23e35fb569269dbe683296c8}{}\index{node.\+h@{node.\+h}!copy\+\_\+msg\+\_\+id@{copy\+\_\+msg\+\_\+id}}
\index{copy\+\_\+msg\+\_\+id@{copy\+\_\+msg\+\_\+id}!node.\+h@{node.\+h}}
\subsubsection[{copy\+\_\+msg\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t copy\+\_\+msg\+\_\+id (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a0348f37c23e35fb569269dbe683296c8_a0348f37c23e35fb569269dbe683296c8}


获取消息\+I\+D 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
消息\+I\+D 
\end{DoxyReturn}
\hypertarget{a00102_a19fc8de5ab5967c2625e61ff869f6547_a19fc8de5ab5967c2625e61ff869f6547}{}\index{node.\+h@{node.\+h}!hash\+\_\+node\+\_\+channel\+\_\+id\+\_\+dtor@{hash\+\_\+node\+\_\+channel\+\_\+id\+\_\+dtor}}
\index{hash\+\_\+node\+\_\+channel\+\_\+id\+\_\+dtor@{hash\+\_\+node\+\_\+channel\+\_\+id\+\_\+dtor}!node.\+h@{node.\+h}}
\subsubsection[{hash\+\_\+node\+\_\+channel\+\_\+id\+\_\+dtor}]{\setlength{\rightskip}{0pt plus 5cm}void hash\+\_\+node\+\_\+channel\+\_\+id\+\_\+dtor (
\begin{DoxyParamCaption}
\item[{void $\ast$}]{param}
\end{DoxyParamCaption}
)}\label{a00102_a19fc8de5ab5967c2625e61ff869f6547_a19fc8de5ab5967c2625e61ff869f6547}


哈希表值销毁函数 


\begin{DoxyParams}{参数}
{\em param} & 节点代理指针 \\
\hline
\end{DoxyParams}
\hypertarget{a00102_afa81e5a2fe15a15a3ee08696ebb9fb7f_afa81e5a2fe15a15a3ee08696ebb9fb7f}{}\index{node.\+h@{node.\+h}!knet\+\_\+node\+\_\+add\+\_\+node@{knet\+\_\+node\+\_\+add\+\_\+node}}
\index{knet\+\_\+node\+\_\+add\+\_\+node@{knet\+\_\+node\+\_\+add\+\_\+node}!node.\+h@{node.\+h}}
\subsubsection[{knet\+\_\+node\+\_\+add\+\_\+node}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+add\+\_\+node (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node, }
\item[{uint32\+\_\+t}]{type, }
\item[{uint32\+\_\+t}]{id, }
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_afa81e5a2fe15a15a3ee08696ebb9fb7f_afa81e5a2fe15a15a3ee08696ebb9fb7f}


添加节点代理 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
{\em type} & 节点类型 \\
\hline
{\em id} & 节点\+I\+D \\
\hline
{\em channel} & 节点代理管道引用 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a8e76a4e4b505064bc36779f415bf1b98_a8e76a4e4b505064bc36779f415bf1b98}{}\index{node.\+h@{node.\+h}!knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+channel\+\_\+ref@{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+channel\+\_\+ref}}
\index{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+channel\+\_\+ref@{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+channel\+\_\+ref}!node.\+h@{node.\+h}}
\subsubsection[{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+channel\+\_\+ref}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+channel\+\_\+ref (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node, }
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a8e76a4e4b505064bc36779f415bf1b98_a8e76a4e4b505064bc36779f415bf1b98}


删除节点代理 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
{\em channel} & 节点代理管道引用 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_afd42a88def40617892cb161ebee49a8b_afd42a88def40617892cb161ebee49a8b}{}\index{node.\+h@{node.\+h}!knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+id@{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+id}}
\index{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+id@{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+id}!node.\+h@{node.\+h}}
\subsubsection[{knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+remove\+\_\+node\+\_\+by\+\_\+id (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node, }
\item[{uint32\+\_\+t}]{id}
\end{DoxyParamCaption}
)}\label{a00102_afd42a88def40617892cb161ebee49a8b_afd42a88def40617892cb161ebee49a8b}


删除节点代理 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
{\em id} & 节点代理\+I\+D \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a8dfe36d41c6c4a45445387aed78ef7dd_a8dfe36d41c6c4a45445387aed78ef7dd}{}\index{node.\+h@{node.\+h}!node\+\_\+broadcast\+\_\+join@{node\+\_\+broadcast\+\_\+join}}
\index{node\+\_\+broadcast\+\_\+join@{node\+\_\+broadcast\+\_\+join}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+broadcast\+\_\+join}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+broadcast\+\_\+join (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node, }
\item[{const char $\ast$}]{ip, }
\item[{int}]{port, }
\item[{uint32\+\_\+t}]{type, }
\item[{uint32\+\_\+t}]{id}
\end{DoxyParamCaption}
)}\label{a00102_a8dfe36d41c6c4a45445387aed78ef7dd_a8dfe36d41c6c4a45445387aed78ef7dd}


根节点通知其他节点有新节点加入集群 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
{\em ip} & 新加入节点\+I\+P \\
\hline
{\em port} & 新加入节点监听端口 \\
\hline
{\em type} & 新加入节点类型 \\
\hline
{\em id} & 新加入节点\+I\+D \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a01e50baec5274bf618ded8d00678e131_a01e50baec5274bf618ded8d00678e131}{}\index{node.\+h@{node.\+h}!node\+\_\+channel\+\_\+cb@{node\+\_\+channel\+\_\+cb}}
\index{node\+\_\+channel\+\_\+cb@{node\+\_\+channel\+\_\+cb}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+channel\+\_\+cb}]{\setlength{\rightskip}{0pt plus 5cm}void node\+\_\+channel\+\_\+cb (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel, }
\item[{{\bf knet\+\_\+channel\+\_\+cb\+\_\+event\+\_\+e}}]{e}
\end{DoxyParamCaption}
)}\label{a00102_a01e50baec5274bf618ded8d00678e131_a01e50baec5274bf618ded8d00678e131}


节点管道回调 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
{\em e} & 管道事件\+I\+D \\
\hline
\end{DoxyParams}
\hypertarget{a00102_a9bae6e0e7f362d9dae9ee27d42ad0e78_a9bae6e0e7f362d9dae9ee27d42ad0e78}{}\index{node.\+h@{node.\+h}!node\+\_\+connect\+\_\+root@{node\+\_\+connect\+\_\+root}}
\index{node\+\_\+connect\+\_\+root@{node\+\_\+connect\+\_\+root}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+connect\+\_\+root}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+connect\+\_\+root (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00102_a9bae6e0e7f362d9dae9ee27d42ad0e78_a9bae6e0e7f362d9dae9ee27d42ad0e78}


连接根节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_aa7e1bfaa23bf8cc7241c034063296cf6_aa7e1bfaa23bf8cc7241c034063296cf6}{}\index{node.\+h@{node.\+h}!node\+\_\+local\+\_\+start@{node\+\_\+local\+\_\+start}}
\index{node\+\_\+local\+\_\+start@{node\+\_\+local\+\_\+start}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+local\+\_\+start}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+local\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00102_aa7e1bfaa23bf8cc7241c034063296cf6_aa7e1bfaa23bf8cc7241c034063296cf6}


启动节点监听器 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a43805096b878b93a1118eabd0a5f9799_a43805096b878b93a1118eabd0a5f9799}{}\index{node.\+h@{node.\+h}!node\+\_\+login\+\_\+ack@{node\+\_\+login\+\_\+ack}}
\index{node\+\_\+login\+\_\+ack@{node\+\_\+login\+\_\+ack}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+login\+\_\+ack}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+login\+\_\+ack (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a43805096b878b93a1118eabd0a5f9799_a43805096b878b93a1118eabd0a5f9799}


发送节点身份验证应答 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_aa64e385bd42b4b6fe72cfcd137a99fe2_aa64e385bd42b4b6fe72cfcd137a99fe2}{}\index{node.\+h@{node.\+h}!node\+\_\+login\+\_\+req@{node\+\_\+login\+\_\+req}}
\index{node\+\_\+login\+\_\+req@{node\+\_\+login\+\_\+req}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+login\+\_\+req}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+login\+\_\+req (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_aa64e385bd42b4b6fe72cfcd137a99fe2_aa64e385bd42b4b6fe72cfcd137a99fe2}


发送节点身份验证请求 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_ab050f58dec9e4479cf305004252c610c_ab050f58dec9e4479cf305004252c610c}{}\index{node.\+h@{node.\+h}!node\+\_\+manage\+\_\+channel\+\_\+cb@{node\+\_\+manage\+\_\+channel\+\_\+cb}}
\index{node\+\_\+manage\+\_\+channel\+\_\+cb@{node\+\_\+manage\+\_\+channel\+\_\+cb}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+manage\+\_\+channel\+\_\+cb}]{\setlength{\rightskip}{0pt plus 5cm}void node\+\_\+manage\+\_\+channel\+\_\+cb (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel, }
\item[{{\bf knet\+\_\+channel\+\_\+cb\+\_\+event\+\_\+e}}]{e}
\end{DoxyParamCaption}
)}\label{a00102_ab050f58dec9e4479cf305004252c610c_ab050f58dec9e4479cf305004252c610c}


节点管理管道回调 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
{\em e} & 管道事件 \\
\hline
\end{DoxyParams}
\hypertarget{a00102_a2f0598c2b8f04a787f9016afb1247b63_a2f0598c2b8f04a787f9016afb1247b63}{}\index{node.\+h@{node.\+h}!node\+\_\+manage\+\_\+start@{node\+\_\+manage\+\_\+start}}
\index{node\+\_\+manage\+\_\+start@{node\+\_\+manage\+\_\+start}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+manage\+\_\+start}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+manage\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00102_a2f0598c2b8f04a787f9016afb1247b63_a2f0598c2b8f04a787f9016afb1247b63}


启动节点管理端口 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a067d3665fb3a5e73408c4a27e5b2deca_a067d3665fb3a5e73408c4a27e5b2deca}{}\index{node.\+h@{node.\+h}!node\+\_\+monitor\+\_\+channel\+\_\+cb@{node\+\_\+monitor\+\_\+channel\+\_\+cb}}
\index{node\+\_\+monitor\+\_\+channel\+\_\+cb@{node\+\_\+monitor\+\_\+channel\+\_\+cb}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+monitor\+\_\+channel\+\_\+cb}]{\setlength{\rightskip}{0pt plus 5cm}void node\+\_\+monitor\+\_\+channel\+\_\+cb (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel, }
\item[{{\bf knet\+\_\+channel\+\_\+cb\+\_\+event\+\_\+e}}]{e}
\end{DoxyParamCaption}
)}\label{a00102_a067d3665fb3a5e73408c4a27e5b2deca_a067d3665fb3a5e73408c4a27e5b2deca}


节点监控管道回调 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
{\em e} & 管道事件 \\
\hline
\end{DoxyParams}
\hypertarget{a00102_a5e5fcccd2fb05ab7a07f8c005099f84d_a5e5fcccd2fb05ab7a07f8c005099f84d}{}\index{node.\+h@{node.\+h}!node\+\_\+monitor\+\_\+start@{node\+\_\+monitor\+\_\+start}}
\index{node\+\_\+monitor\+\_\+start@{node\+\_\+monitor\+\_\+start}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+monitor\+\_\+start}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+monitor\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00102_a5e5fcccd2fb05ab7a07f8c005099f84d_a5e5fcccd2fb05ab7a07f8c005099f84d}


启动节点监控端口 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_af21be279fb6545838987e35d2022d8de_af21be279fb6545838987e35d2022d8de}{}\index{node.\+h@{node.\+h}!node\+\_\+open\+\_\+filter\+\_\+files@{node\+\_\+open\+\_\+filter\+\_\+files}}
\index{node\+\_\+open\+\_\+filter\+\_\+files@{node\+\_\+open\+\_\+filter\+\_\+files}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+open\+\_\+filter\+\_\+files}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+open\+\_\+filter\+\_\+files (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00102_af21be279fb6545838987e35d2022d8de_af21be279fb6545838987e35d2022d8de}


读取\+I\+P黑/白名单文件 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_ab454c97d2a6363ac5f69e954bad84992_ab454c97d2a6363ac5f69e954bad84992}{}\index{node.\+h@{node.\+h}!node\+\_\+proxy\+\_\+create@{node\+\_\+proxy\+\_\+create}}
\index{node\+\_\+proxy\+\_\+create@{node\+\_\+proxy\+\_\+create}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+proxy\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf knode\+\_\+proxy\+\_\+t}$\ast$ node\+\_\+proxy\+\_\+create (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{self}
\end{DoxyParamCaption}
)}\label{a00102_ab454c97d2a6363ac5f69e954bad84992_ab454c97d2a6363ac5f69e954bad84992}


建立节点代理 


\begin{DoxyParams}{参数}
{\em self} & 本机节点 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
knode\+\_\+proxy\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00102_af6bad41d52b417a55c11da5cea7fc3fb_af6bad41d52b417a55c11da5cea7fc3fb}{}\index{node.\+h@{node.\+h}!node\+\_\+proxy\+\_\+destroy@{node\+\_\+proxy\+\_\+destroy}}
\index{node\+\_\+proxy\+\_\+destroy@{node\+\_\+proxy\+\_\+destroy}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+proxy\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void node\+\_\+proxy\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+proxy\+\_\+t} $\ast$}]{proxy}
\end{DoxyParamCaption}
)}\label{a00102_af6bad41d52b417a55c11da5cea7fc3fb_af6bad41d52b417a55c11da5cea7fc3fb}


销毁节点代理 


\begin{DoxyParams}{参数}
{\em proxy} & knode\+\_\+proxy\+\_\+t实例 \\
\hline
\end{DoxyParams}
\hypertarget{a00102_a8fe081822efe2065d27b69ab0c2f1386_a8fe081822efe2065d27b69ab0c2f1386}{}\index{node.\+h@{node.\+h}!node\+\_\+root\+\_\+start@{node\+\_\+root\+\_\+start}}
\index{node\+\_\+root\+\_\+start@{node\+\_\+root\+\_\+start}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+root\+\_\+start}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+root\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00102_a8fe081822efe2065d27b69ab0c2f1386_a8fe081822efe2065d27b69ab0c2f1386}


启动根节点监听器 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a54139242ade232ae556dc2781bf36c76_a54139242ade232ae556dc2781bf36c76}{}\index{node.\+h@{node.\+h}!node\+\_\+save\+\_\+filter\+\_\+files@{node\+\_\+save\+\_\+filter\+\_\+files}}
\index{node\+\_\+save\+\_\+filter\+\_\+files@{node\+\_\+save\+\_\+filter\+\_\+files}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+save\+\_\+filter\+\_\+files}]{\setlength{\rightskip}{0pt plus 5cm}void node\+\_\+save\+\_\+filter\+\_\+files (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00102_a54139242ade232ae556dc2781bf36c76_a54139242ade232ae556dc2781bf36c76}


保存\+I\+P黑/白名单文件 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a831f5f4ac169e5ed74b828acf7b39a1c_a831f5f4ac169e5ed74b828acf7b39a1c}{}\index{node.\+h@{node.\+h}!node\+\_\+send@{node\+\_\+send}}
\index{node\+\_\+send@{node\+\_\+send}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+send}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+send (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel, }
\item[{const void $\ast$}]{data, }
\item[{uint32\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\label{a00102_a831f5f4ac169e5ed74b828acf7b39a1c_a831f5f4ac169e5ed74b828acf7b39a1c}


发送数据到其他节点 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
{\em data} & 数据块指针 \\
\hline
{\em size} & 数据长度 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a25f4321eb35ddd75d6e026a0055ade30_a25f4321eb35ddd75d6e026a0055ade30}{}\index{node.\+h@{node.\+h}!node\+\_\+send\+\_\+heartbeat\+\_\+ack@{node\+\_\+send\+\_\+heartbeat\+\_\+ack}}
\index{node\+\_\+send\+\_\+heartbeat\+\_\+ack@{node\+\_\+send\+\_\+heartbeat\+\_\+ack}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+send\+\_\+heartbeat\+\_\+ack}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+send\+\_\+heartbeat\+\_\+ack (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a25f4321eb35ddd75d6e026a0055ade30_a25f4321eb35ddd75d6e026a0055ade30}


发送心跳应答 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_acb8219f989e66e827adc668bb0bb3649_acb8219f989e66e827adc668bb0bb3649}{}\index{node.\+h@{node.\+h}!node\+\_\+send\+\_\+heartbeat\+\_\+req@{node\+\_\+send\+\_\+heartbeat\+\_\+req}}
\index{node\+\_\+send\+\_\+heartbeat\+\_\+req@{node\+\_\+send\+\_\+heartbeat\+\_\+req}!node.\+h@{node.\+h}}
\subsubsection[{node\+\_\+send\+\_\+heartbeat\+\_\+req}]{\setlength{\rightskip}{0pt plus 5cm}int node\+\_\+send\+\_\+heartbeat\+\_\+req (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_acb8219f989e66e827adc668bb0bb3649_acb8219f989e66e827adc668bb0bb3649}


发送心跳请求 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_af2ac58191a40af414f62c9eccaeb4a5a_af2ac58191a40af414f62c9eccaeb4a5a}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+accept@{on\+\_\+node\+\_\+accept}}
\index{on\+\_\+node\+\_\+accept@{on\+\_\+node\+\_\+accept}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+accept}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+accept (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_af2ac58191a40af414f62c9eccaeb4a5a_af2ac58191a40af414f62c9eccaeb4a5a}


节点管道成功处理函数 -\/ 监听 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a42e77e8c8913b99c23f3dab6b829b2ed_a42e77e8c8913b99c23f3dab6b829b2ed}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+connect@{on\+\_\+node\+\_\+connect}}
\index{on\+\_\+node\+\_\+connect@{on\+\_\+node\+\_\+connect}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+connect}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+connect (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a42e77e8c8913b99c23f3dab6b829b2ed_a42e77e8c8913b99c23f3dab6b829b2ed}


节点管道成功处理函数 -\/ 主动连接 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a32e1b1f54cd73d3cde296efe5bc9c39a_a32e1b1f54cd73d3cde296efe5bc9c39a}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+data@{on\+\_\+node\+\_\+data}}
\index{on\+\_\+node\+\_\+data@{on\+\_\+node\+\_\+data}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+data}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+data (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a32e1b1f54cd73d3cde296efe5bc9c39a_a32e1b1f54cd73d3cde296efe5bc9c39a}


节点数据处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a59bd737cbca597b352194fba73847e09_a59bd737cbca597b352194fba73847e09}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+disjoin@{on\+\_\+node\+\_\+disjoin}}
\index{on\+\_\+node\+\_\+disjoin@{on\+\_\+node\+\_\+disjoin}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+disjoin}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+disjoin (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a59bd737cbca597b352194fba73847e09_a59bd737cbca597b352194fba73847e09}


节点内部协议处理入口函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_ab83aef21e082207c03bdb5dd9fb07b86_ab83aef21e082207c03bdb5dd9fb07b86}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+heartbeat\+\_\+ack@{on\+\_\+node\+\_\+heartbeat\+\_\+ack}}
\index{on\+\_\+node\+\_\+heartbeat\+\_\+ack@{on\+\_\+node\+\_\+heartbeat\+\_\+ack}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+heartbeat\+\_\+ack}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+heartbeat\+\_\+ack (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_ab83aef21e082207c03bdb5dd9fb07b86_ab83aef21e082207c03bdb5dd9fb07b86}


节点心跳应答处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a54b613f98518c8c9f47634b97fe50668_a54b613f98518c8c9f47634b97fe50668}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+heartbeat\+\_\+req@{on\+\_\+node\+\_\+heartbeat\+\_\+req}}
\index{on\+\_\+node\+\_\+heartbeat\+\_\+req@{on\+\_\+node\+\_\+heartbeat\+\_\+req}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+heartbeat\+\_\+req}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+heartbeat\+\_\+req (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a54b613f98518c8c9f47634b97fe50668_a54b613f98518c8c9f47634b97fe50668}


节点心跳请求处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a97868db78a1ce888063dbd4709d2896b_a97868db78a1ce888063dbd4709d2896b}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+join@{on\+\_\+node\+\_\+join}}
\index{on\+\_\+node\+\_\+join@{on\+\_\+node\+\_\+join}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+join}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+join (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a97868db78a1ce888063dbd4709d2896b_a97868db78a1ce888063dbd4709d2896b}


新节点加入通知处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a631409526fc946adb7f023a17d33cbae_a631409526fc946adb7f023a17d33cbae}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+login\+\_\+ack@{on\+\_\+node\+\_\+login\+\_\+ack}}
\index{on\+\_\+node\+\_\+login\+\_\+ack@{on\+\_\+node\+\_\+login\+\_\+ack}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+login\+\_\+ack}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+login\+\_\+ack (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a631409526fc946adb7f023a17d33cbae_a631409526fc946adb7f023a17d33cbae}


身份验证应答处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_a8265131106d1be7979dbe768f90201b2_a8265131106d1be7979dbe768f90201b2}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+login\+\_\+req@{on\+\_\+node\+\_\+login\+\_\+req}}
\index{on\+\_\+node\+\_\+login\+\_\+req@{on\+\_\+node\+\_\+login\+\_\+req}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+login\+\_\+req}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+login\+\_\+req (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_a8265131106d1be7979dbe768f90201b2_a8265131106d1be7979dbe768f90201b2}


身份验证请求处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_afaaf2440e99559696a2376e6d43377b8_afaaf2440e99559696a2376e6d43377b8}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+recv@{on\+\_\+node\+\_\+recv}}
\index{on\+\_\+node\+\_\+recv@{on\+\_\+node\+\_\+recv}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+recv}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+recv (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_afaaf2440e99559696a2376e6d43377b8_afaaf2440e99559696a2376e6d43377b8}


节点管道数据处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00102_aba779004280bfcf35ff40461c51a19d4_aba779004280bfcf35ff40461c51a19d4}{}\index{node.\+h@{node.\+h}!on\+\_\+node\+\_\+timeout@{on\+\_\+node\+\_\+timeout}}
\index{on\+\_\+node\+\_\+timeout@{on\+\_\+node\+\_\+timeout}!node.\+h@{node.\+h}}
\subsubsection[{on\+\_\+node\+\_\+timeout}]{\setlength{\rightskip}{0pt plus 5cm}int on\+\_\+node\+\_\+timeout (
\begin{DoxyParamCaption}
\item[{{\bf kchannel\+\_\+ref\+\_\+t} $\ast$}]{channel}
\end{DoxyParamCaption}
)}\label{a00102_aba779004280bfcf35ff40461c51a19d4_aba779004280bfcf35ff40461c51a19d4}


节点管道超时处理函数 


\begin{DoxyParams}{参数}
{\em channel} & kchannel\+\_\+ref\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
