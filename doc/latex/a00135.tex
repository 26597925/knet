\hypertarget{a00135}{}\section{节点}
\label{a00135}\index{节点@{节点}}


节点  


\subsection*{函数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$ \hyperlink{a00135_ga178be792592fd4557bfe931b5845b66a_ga178be792592fd4557bfe931b5845b66a}{knet\+\_\+node\+\_\+create} ()
\begin{DoxyCompactList}\small\item\em 创建一个新的节点 \end{DoxyCompactList}\item 
void \hyperlink{a00135_ga7b577b6a8883b8c69cfc2d9eadb98d03_ga7b577b6a8883b8c69cfc2d9eadb98d03}{knet\+\_\+node\+\_\+destroy} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 销毁节点 \end{DoxyCompactList}\item 
\hyperlink{a00066_af1cfaee0eb1c76ebf06076b95cc47ee1_af1cfaee0eb1c76ebf06076b95cc47ee1}{knode\+\_\+config\+\_\+t} $\ast$ \hyperlink{a00135_ga2ceebf25bbc4306817d7ef45ca1c44b8_ga2ceebf25bbc4306817d7ef45ca1c44b8}{knet\+\_\+node\+\_\+get\+\_\+config} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 销毁节点 \end{DoxyCompactList}\item 
int \hyperlink{a00135_gac3884a7a111f4fff8aad997d41e92712_gac3884a7a111f4fff8aad997d41e92712}{knet\+\_\+node\+\_\+start} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 启动节点 \end{DoxyCompactList}\item 
int \hyperlink{a00135_ga8d63fa0942bef4d3db588bb72c57df91_ga8d63fa0942bef4d3db588bb72c57df91}{knet\+\_\+node\+\_\+stop} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 关闭节点 \end{DoxyCompactList}\item 
void \hyperlink{a00135_ga0df83a5efbf28d8e8d08a46d084265d3_ga0df83a5efbf28d8e8d08a46d084265d3}{knet\+\_\+node\+\_\+wait\+\_\+for\+\_\+stop} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 等待节点关闭 \end{DoxyCompactList}\item 
int \hyperlink{a00135_ga7960dad8d814bd4f07697e4484c57885_ga7960dad8d814bd4f07697e4484c57885}{knet\+\_\+node\+\_\+broadcast} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node, const void $\ast$msg, int size)
\begin{DoxyCompactList}\small\item\em 广播数据到所有与本节点有连接的节点 \end{DoxyCompactList}\item 
int \hyperlink{a00135_gabf69af301870cd224020921ec5c310d9_gabf69af301870cd224020921ec5c310d9}{knet\+\_\+node\+\_\+broadcast\+\_\+by\+\_\+type} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node, uint32\+\_\+t type, const void $\ast$msg, int size)
\begin{DoxyCompactList}\small\item\em 广播数据到所有与本节点有连接的节点的指定类型节点 \end{DoxyCompactList}\item 
int \hyperlink{a00135_ga5d8bef9ccbb5cc7807beeddb558345a9_ga5d8bef9ccbb5cc7807beeddb558345a9}{knet\+\_\+node\+\_\+write} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node, uint32\+\_\+t id, const void $\ast$msg, int size)
\begin{DoxyCompactList}\small\item\em 发送数据到指定\+I\+D的节点 \end{DoxyCompactList}\item 
\hyperlink{a00066_a3195a3be35782fc1efb920c811be111d_a3195a3be35782fc1efb920c811be111d}{kframework\+\_\+t} $\ast$ \hyperlink{a00135_ga8cdcfd95182d97a0edd16d5c47adec51_ga8cdcfd95182d97a0edd16d5c47adec51}{knet\+\_\+node\+\_\+get\+\_\+framework} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 取得框架 \end{DoxyCompactList}\item 
\hyperlink{a00066_a1c0c604eecd86fc8895cf4bbbba566af_a1c0c604eecd86fc8895cf4bbbba566af}{kip\+\_\+filter\+\_\+t} $\ast$ \hyperlink{a00135_ga41687a31d6d8d2ea196c628301d1bb2c_ga41687a31d6d8d2ea196c628301d1bb2c}{knet\+\_\+node\+\_\+get\+\_\+black\+\_\+ip\+\_\+filter} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 取得\+I\+P黑名单 \end{DoxyCompactList}\item 
\hyperlink{a00066_a1c0c604eecd86fc8895cf4bbbba566af_a1c0c604eecd86fc8895cf4bbbba566af}{kip\+\_\+filter\+\_\+t} $\ast$ \hyperlink{a00135_ga41321abe67ec5ab6ff96a8b5ef29cb3d_ga41321abe67ec5ab6ff96a8b5ef29cb3d}{knet\+\_\+node\+\_\+get\+\_\+white\+\_\+ip\+\_\+filter} (\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$node)
\begin{DoxyCompactList}\small\item\em 取得\+I\+P白名单 \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{a00135_ga55eac38f861266b225e686fe86294b18_ga55eac38f861266b225e686fe86294b18}{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+id} (\hyperlink{a00066_a5025c3e4422f5f55b981aad6e56b6d89_a5025c3e4422f5f55b981aad6e56b6d89}{knode\+\_\+proxy\+\_\+t} $\ast$proxy)
\begin{DoxyCompactList}\small\item\em 取得节点代理\+I\+D \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{a00135_gaa2890b2f9fe57b8f45677da321350f41_gaa2890b2f9fe57b8f45677da321350f41}{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+type} (\hyperlink{a00066_a5025c3e4422f5f55b981aad6e56b6d89_a5025c3e4422f5f55b981aad6e56b6d89}{knode\+\_\+proxy\+\_\+t} $\ast$proxy)
\begin{DoxyCompactList}\small\item\em 取得节点代理类型 \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{a00135_gaaa6781024365a8c19e4113b5a1c5a291_gaaa6781024365a8c19e4113b5a1c5a291}{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+data\+\_\+length} (\hyperlink{a00066_a5025c3e4422f5f55b981aad6e56b6d89_a5025c3e4422f5f55b981aad6e56b6d89}{knode\+\_\+proxy\+\_\+t} $\ast$proxy)
\begin{DoxyCompactList}\small\item\em 取得节点代理本次可以读取的数据长度，此长度代表了一次节点发送 \end{DoxyCompactList}\item 
\hyperlink{a00066_a5e720b27efbc9ad744240f5f4233763a_a5e720b27efbc9ad744240f5f4233763a}{knode\+\_\+t} $\ast$ \hyperlink{a00135_ga1cc9cde586994397081f6e28f8c40ace_ga1cc9cde586994397081f6e28f8c40ace}{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+self} (\hyperlink{a00066_a5025c3e4422f5f55b981aad6e56b6d89_a5025c3e4422f5f55b981aad6e56b6d89}{knode\+\_\+proxy\+\_\+t} $\ast$proxy)
\begin{DoxyCompactList}\small\item\em 取得本机节点 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{详细描述}
节点 


\begin{DoxyPre}
节点提供了如下几方面的功能：
1. 组网
2. 监控，管理
3. IP黑名单/白名单\end{DoxyPre}



\begin{DoxyPre}{\bfseries 组网}
节点分为根节点和普通节点两种类型，根节点作为组网的通知者存在，组网过程如下：
1. 普通节点可以选择连接根节点（通过配置），普通节点可以设置自己所关注的其他节点的类型(node-type)
2. 连接到根节点后汇报自己的身份\{IP, port, node-type, node-id\}
3. 根节点推送新加入的节点的身份信息给所有已经在节点集群内的其他节点
4. 接收到根节点推送过来的身份信息后，如果是自己关注的节点类型，那么转到步骤5，否则不做处理
5. 主动连接新加入的节点并汇报自己的身份，新加入的节点同时也推送自己的身份给连接自己的节点\end{DoxyPre}



\begin{DoxyPre}{\bfseries 监控}
每个节点提供了一个监控端口和一个管理端口.
1. 监控端口
   监控端口可以被任何监控客户端连接，如果有连接建立，节点会回调用户设置的监控回调函数，回调函数
   退出后连接将被断开.
2. 管理端口
   管理端口通常应开启在对内网的网卡上（或者连接受保护的地址上），不应该被外网访问到. 如果有监控
   客户端连接，那么监控客户端可以发送命令给用户设置的回调函数处理，命令为一个字符串以并且以回车换行结尾,
   可以同时发送多条命令. 回调函数可以通过返回值来告诉节点后续的处理方式: 保持连接或命令处理完成后断开
   连接.\end{DoxyPre}



\begin{DoxyPre}{\bfseries IP黑名单/白名单}
如果用户提供两个IP名单文件（通过设置），那么就自动开启了IP名单过滤，过滤规则为：
1. 白名单优先
2. 不在白名单的IP可以被黑名单过滤\end{DoxyPre}



\begin{DoxyPre}具体设置可参见节点配置.
\end{DoxyPre}
 

\subsection{函数说明}
\hypertarget{a00135_ga7960dad8d814bd4f07697e4484c57885_ga7960dad8d814bd4f07697e4484c57885}{}\index{节点@{节点}!knet\+\_\+node\+\_\+broadcast@{knet\+\_\+node\+\_\+broadcast}}
\index{knet\+\_\+node\+\_\+broadcast@{knet\+\_\+node\+\_\+broadcast}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+broadcast}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+broadcast (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node, }
\item[{const void $\ast$}]{msg, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\label{a00135_ga7960dad8d814bd4f07697e4484c57885_ga7960dad8d814bd4f07697e4484c57885}


广播数据到所有与本节点有连接的节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
{\em msg} & 数据包 \\
\hline
{\em size} & 数据长度 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00135_gabf69af301870cd224020921ec5c310d9_gabf69af301870cd224020921ec5c310d9}{}\index{节点@{节点}!knet\+\_\+node\+\_\+broadcast\+\_\+by\+\_\+type@{knet\+\_\+node\+\_\+broadcast\+\_\+by\+\_\+type}}
\index{knet\+\_\+node\+\_\+broadcast\+\_\+by\+\_\+type@{knet\+\_\+node\+\_\+broadcast\+\_\+by\+\_\+type}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+broadcast\+\_\+by\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+broadcast\+\_\+by\+\_\+type (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node, }
\item[{uint32\+\_\+t}]{type, }
\item[{const void $\ast$}]{msg, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\label{a00135_gabf69af301870cd224020921ec5c310d9_gabf69af301870cd224020921ec5c310d9}


广播数据到所有与本节点有连接的节点的指定类型节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
{\em type} & 节点类型 \\
\hline
{\em msg} & 数据包 \\
\hline
{\em size} & 数据长度 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00135_ga178be792592fd4557bfe931b5845b66a_ga178be792592fd4557bfe931b5845b66a}{}\index{节点@{节点}!knet\+\_\+node\+\_\+create@{knet\+\_\+node\+\_\+create}}
\index{knet\+\_\+node\+\_\+create@{knet\+\_\+node\+\_\+create}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf knode\+\_\+t}$\ast$ knet\+\_\+node\+\_\+create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{a00135_ga178be792592fd4557bfe931b5845b66a_ga178be792592fd4557bfe931b5845b66a}


创建一个新的节点 

\begin{DoxyReturn}{返回}
knode\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00135_ga7b577b6a8883b8c69cfc2d9eadb98d03_ga7b577b6a8883b8c69cfc2d9eadb98d03}{}\index{节点@{节点}!knet\+\_\+node\+\_\+destroy@{knet\+\_\+node\+\_\+destroy}}
\index{knet\+\_\+node\+\_\+destroy@{knet\+\_\+node\+\_\+destroy}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void knet\+\_\+node\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_ga7b577b6a8883b8c69cfc2d9eadb98d03_ga7b577b6a8883b8c69cfc2d9eadb98d03}


销毁节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}
\hypertarget{a00135_ga41687a31d6d8d2ea196c628301d1bb2c_ga41687a31d6d8d2ea196c628301d1bb2c}{}\index{节点@{节点}!knet\+\_\+node\+\_\+get\+\_\+black\+\_\+ip\+\_\+filter@{knet\+\_\+node\+\_\+get\+\_\+black\+\_\+ip\+\_\+filter}}
\index{knet\+\_\+node\+\_\+get\+\_\+black\+\_\+ip\+\_\+filter@{knet\+\_\+node\+\_\+get\+\_\+black\+\_\+ip\+\_\+filter}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+get\+\_\+black\+\_\+ip\+\_\+filter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kip\+\_\+filter\+\_\+t}$\ast$ knet\+\_\+node\+\_\+get\+\_\+black\+\_\+ip\+\_\+filter (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_ga41687a31d6d8d2ea196c628301d1bb2c_ga41687a31d6d8d2ea196c628301d1bb2c}


取得\+I\+P黑名单 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
kip\+\_\+filter\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00135_ga2ceebf25bbc4306817d7ef45ca1c44b8_ga2ceebf25bbc4306817d7ef45ca1c44b8}{}\index{节点@{节点}!knet\+\_\+node\+\_\+get\+\_\+config@{knet\+\_\+node\+\_\+get\+\_\+config}}
\index{knet\+\_\+node\+\_\+get\+\_\+config@{knet\+\_\+node\+\_\+get\+\_\+config}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+get\+\_\+config}]{\setlength{\rightskip}{0pt plus 5cm}{\bf knode\+\_\+config\+\_\+t}$\ast$ knet\+\_\+node\+\_\+get\+\_\+config (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_ga2ceebf25bbc4306817d7ef45ca1c44b8_ga2ceebf25bbc4306817d7ef45ca1c44b8}


销毁节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}
\hypertarget{a00135_ga8cdcfd95182d97a0edd16d5c47adec51_ga8cdcfd95182d97a0edd16d5c47adec51}{}\index{节点@{节点}!knet\+\_\+node\+\_\+get\+\_\+framework@{knet\+\_\+node\+\_\+get\+\_\+framework}}
\index{knet\+\_\+node\+\_\+get\+\_\+framework@{knet\+\_\+node\+\_\+get\+\_\+framework}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+get\+\_\+framework}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kframework\+\_\+t}$\ast$ knet\+\_\+node\+\_\+get\+\_\+framework (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_ga8cdcfd95182d97a0edd16d5c47adec51_ga8cdcfd95182d97a0edd16d5c47adec51}


取得框架 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
kframework\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00135_ga41321abe67ec5ab6ff96a8b5ef29cb3d_ga41321abe67ec5ab6ff96a8b5ef29cb3d}{}\index{节点@{节点}!knet\+\_\+node\+\_\+get\+\_\+white\+\_\+ip\+\_\+filter@{knet\+\_\+node\+\_\+get\+\_\+white\+\_\+ip\+\_\+filter}}
\index{knet\+\_\+node\+\_\+get\+\_\+white\+\_\+ip\+\_\+filter@{knet\+\_\+node\+\_\+get\+\_\+white\+\_\+ip\+\_\+filter}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+get\+\_\+white\+\_\+ip\+\_\+filter}]{\setlength{\rightskip}{0pt plus 5cm}{\bf kip\+\_\+filter\+\_\+t}$\ast$ knet\+\_\+node\+\_\+get\+\_\+white\+\_\+ip\+\_\+filter (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_ga41321abe67ec5ab6ff96a8b5ef29cb3d_ga41321abe67ec5ab6ff96a8b5ef29cb3d}


取得\+I\+P白名单 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
kip\+\_\+filter\+\_\+t实例 
\end{DoxyReturn}
\hypertarget{a00135_gaaa6781024365a8c19e4113b5a1c5a291_gaaa6781024365a8c19e4113b5a1c5a291}{}\index{节点@{节点}!knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+data\+\_\+length@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+data\+\_\+length}}
\index{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+data\+\_\+length@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+data\+\_\+length}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+data\+\_\+length}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+data\+\_\+length (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+proxy\+\_\+t} $\ast$}]{proxy}
\end{DoxyParamCaption}
)}\label{a00135_gaaa6781024365a8c19e4113b5a1c5a291_gaaa6781024365a8c19e4113b5a1c5a291}


取得节点代理本次可以读取的数据长度，此长度代表了一次节点发送 


\begin{DoxyParams}{参数}
{\em proxy} & knode\+\_\+proxy\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
本次可以读取的数据长度 
\end{DoxyReturn}
\hypertarget{a00135_ga55eac38f861266b225e686fe86294b18_ga55eac38f861266b225e686fe86294b18}{}\index{节点@{节点}!knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+id@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+id}}
\index{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+id@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+id}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+id}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+id (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+proxy\+\_\+t} $\ast$}]{proxy}
\end{DoxyParamCaption}
)}\label{a00135_ga55eac38f861266b225e686fe86294b18_ga55eac38f861266b225e686fe86294b18}


取得节点代理\+I\+D 

节点代理\+I\+D既远程节点的\+I\+D 
\begin{DoxyParams}{参数}
{\em proxy} & knode\+\_\+proxy\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
节点代理\+I\+D 
\end{DoxyReturn}
\hypertarget{a00135_ga1cc9cde586994397081f6e28f8c40ace_ga1cc9cde586994397081f6e28f8c40ace}{}\index{节点@{节点}!knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+self@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+self}}
\index{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+self@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+self}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+self}]{\setlength{\rightskip}{0pt plus 5cm}{\bf knode\+\_\+t}$\ast$ knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+self (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+proxy\+\_\+t} $\ast$}]{proxy}
\end{DoxyParamCaption}
)}\label{a00135_ga1cc9cde586994397081f6e28f8c40ace_ga1cc9cde586994397081f6e28f8c40ace}


取得本机节点 


\begin{DoxyParams}{参数}
{\em proxy} & knode\+\_\+proxy\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
本机节点 
\end{DoxyReturn}
\hypertarget{a00135_gaa2890b2f9fe57b8f45677da321350f41_gaa2890b2f9fe57b8f45677da321350f41}{}\index{节点@{节点}!knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+type@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+type}}
\index{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+type@{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+type}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+type}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t knet\+\_\+node\+\_\+proxy\+\_\+get\+\_\+type (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+proxy\+\_\+t} $\ast$}]{proxy}
\end{DoxyParamCaption}
)}\label{a00135_gaa2890b2f9fe57b8f45677da321350f41_gaa2890b2f9fe57b8f45677da321350f41}


取得节点代理类型 

节点代理\+I\+D既远程节点的类型 
\begin{DoxyParams}{参数}
{\em proxy} & knode\+\_\+proxy\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
节点代理\+I\+D 
\end{DoxyReturn}
\hypertarget{a00135_gac3884a7a111f4fff8aad997d41e92712_gac3884a7a111f4fff8aad997d41e92712}{}\index{节点@{节点}!knet\+\_\+node\+\_\+start@{knet\+\_\+node\+\_\+start}}
\index{knet\+\_\+node\+\_\+start@{knet\+\_\+node\+\_\+start}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+start}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+start (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_gac3884a7a111f4fff8aad997d41e92712_gac3884a7a111f4fff8aad997d41e92712}


启动节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00135_ga8d63fa0942bef4d3db588bb72c57df91_ga8d63fa0942bef4d3db588bb72c57df91}{}\index{节点@{节点}!knet\+\_\+node\+\_\+stop@{knet\+\_\+node\+\_\+stop}}
\index{knet\+\_\+node\+\_\+stop@{knet\+\_\+node\+\_\+stop}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+stop}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+stop (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_ga8d63fa0942bef4d3db588bb72c57df91_ga8d63fa0942bef4d3db588bb72c57df91}


关闭节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00135_ga0df83a5efbf28d8e8d08a46d084265d3_ga0df83a5efbf28d8e8d08a46d084265d3}{}\index{节点@{节点}!knet\+\_\+node\+\_\+wait\+\_\+for\+\_\+stop@{knet\+\_\+node\+\_\+wait\+\_\+for\+\_\+stop}}
\index{knet\+\_\+node\+\_\+wait\+\_\+for\+\_\+stop@{knet\+\_\+node\+\_\+wait\+\_\+for\+\_\+stop}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+wait\+\_\+for\+\_\+stop}]{\setlength{\rightskip}{0pt plus 5cm}void knet\+\_\+node\+\_\+wait\+\_\+for\+\_\+stop (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node}
\end{DoxyParamCaption}
)}\label{a00135_ga0df83a5efbf28d8e8d08a46d084265d3_ga0df83a5efbf28d8e8d08a46d084265d3}


等待节点关闭 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
\hypertarget{a00135_ga5d8bef9ccbb5cc7807beeddb558345a9_ga5d8bef9ccbb5cc7807beeddb558345a9}{}\index{节点@{节点}!knet\+\_\+node\+\_\+write@{knet\+\_\+node\+\_\+write}}
\index{knet\+\_\+node\+\_\+write@{knet\+\_\+node\+\_\+write}!节点@{节点}}
\subsubsection[{knet\+\_\+node\+\_\+write}]{\setlength{\rightskip}{0pt plus 5cm}int knet\+\_\+node\+\_\+write (
\begin{DoxyParamCaption}
\item[{{\bf knode\+\_\+t} $\ast$}]{node, }
\item[{uint32\+\_\+t}]{id, }
\item[{const void $\ast$}]{msg, }
\item[{int}]{size}
\end{DoxyParamCaption}
)}\label{a00135_ga5d8bef9ccbb5cc7807beeddb558345a9_ga5d8bef9ccbb5cc7807beeddb558345a9}


发送数据到指定\+I\+D的节点 


\begin{DoxyParams}{参数}
{\em node} & knode\+\_\+t实例 \\
\hline
{\em id} & 节点\+I\+D \\
\hline
{\em msg} & 数据包 \\
\hline
{\em size} & 数据长度 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}
