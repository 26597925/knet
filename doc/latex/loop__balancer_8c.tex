\hypertarget{loop__balancer_8c}{}\section{E\+:/knet-\/git/knet/knet/loop\+\_\+balancer.c 文件参考}
\label{loop__balancer_8c}\index{E\+:/knet-\/git/knet/knet/loop\+\_\+balancer.\+c@{E\+:/knet-\/git/knet/knet/loop\+\_\+balancer.\+c}}
{\ttfamily \#include \char`\"{}loop\+\_\+balancer.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}list.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}misc.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}loop.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}logger.\+h\char`\"{}}\\*
\subsection*{结构体}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct__loop__balancer__t}{\+\_\+loop\+\_\+balancer\+\_\+t}
\item 
struct \hyperlink{struct__loop__info__t}{\+\_\+loop\+\_\+info\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{类型定义}
\begin{DoxyCompactItemize}
\item 
typedef struct \hyperlink{struct__loop__info__t}{\+\_\+loop\+\_\+info\+\_\+t} \hyperlink{loop__balancer_8c_a4ae76cfed863999ec747314b93b9287d}{loop\+\_\+info\+\_\+t}
\end{DoxyCompactItemize}
\subsection*{函数}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{loop__balancer_8c_a2b3cf2cb63d914efe226e901a50d8b0a}{loop\+\_\+balancer\+\_\+attach} (\hyperlink{config_8h_a649c7e850ab247b5f70ad27e335a129d}{loop\+\_\+balancer\+\_\+t} $\ast$balancer, \hyperlink{config_8h_a9c3ad1cd2de83e09f3a7b59fa82c94ee}{loop\+\_\+t} $\ast$loop)
\item 
\hyperlink{config_8h_a9c3ad1cd2de83e09f3a7b59fa82c94ee}{loop\+\_\+t} $\ast$ \hyperlink{loop__balancer_8c_ac025f218f22410cf0e60980bbd93c5e3}{loop\+\_\+balancer\+\_\+choose} (\hyperlink{config_8h_a649c7e850ab247b5f70ad27e335a129d}{loop\+\_\+balancer\+\_\+t} $\ast$balancer)
\item 
\hyperlink{config_8h_a649c7e850ab247b5f70ad27e335a129d}{loop\+\_\+balancer\+\_\+t} $\ast$ \hyperlink{loop__balancer_8c_a9992a50e96839282c678e51bc11158d1}{loop\+\_\+balancer\+\_\+create} ()
\item 
void \hyperlink{loop__balancer_8c_a2d702b5f965fe587fdaea3f5f9e2400c}{loop\+\_\+balancer\+\_\+destroy} (\hyperlink{config_8h_a649c7e850ab247b5f70ad27e335a129d}{loop\+\_\+balancer\+\_\+t} $\ast$balancer)
\item 
int \hyperlink{loop__balancer_8c_a548ce0c2c624c4f4731a0f963d2ca42a}{loop\+\_\+balancer\+\_\+detach} (\hyperlink{config_8h_a649c7e850ab247b5f70ad27e335a129d}{loop\+\_\+balancer\+\_\+t} $\ast$balancer, \hyperlink{config_8h_a9c3ad1cd2de83e09f3a7b59fa82c94ee}{loop\+\_\+t} $\ast$loop)
\end{DoxyCompactItemize}


\subsection{类型定义说明}
\hypertarget{loop__balancer_8c_a4ae76cfed863999ec747314b93b9287d}{}\index{loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}!loop\+\_\+info\+\_\+t@{loop\+\_\+info\+\_\+t}}
\index{loop\+\_\+info\+\_\+t@{loop\+\_\+info\+\_\+t}!loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}}
\subsubsection[{loop\+\_\+info\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}typedef struct {\bf \+\_\+loop\+\_\+info\+\_\+t}  {\bf loop\+\_\+info\+\_\+t}}\label{loop__balancer_8c_a4ae76cfed863999ec747314b93b9287d}


\subsection{函数说明}
\hypertarget{loop__balancer_8c_a2b3cf2cb63d914efe226e901a50d8b0a}{}\index{loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}!loop\+\_\+balancer\+\_\+attach@{loop\+\_\+balancer\+\_\+attach}}
\index{loop\+\_\+balancer\+\_\+attach@{loop\+\_\+balancer\+\_\+attach}!loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}}
\subsubsection[{loop\+\_\+balancer\+\_\+attach}]{\setlength{\rightskip}{0pt plus 5cm}int loop\+\_\+balancer\+\_\+attach (
\begin{DoxyParamCaption}
\item[{{\bf loop\+\_\+balancer\+\_\+t} $\ast$}]{balancer, }
\item[{{\bf loop\+\_\+t} $\ast$}]{loop}
\end{DoxyParamCaption}
)}\label{loop__balancer_8c_a2b3cf2cb63d914efe226e901a50d8b0a}
添加事件循环到负载均衡器 
\begin{DoxyParams}{参数}
{\em balancer} & loop\+\_\+balancer\+\_\+t实例 \\
\hline
{\em loop} & loop\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}


在文件 loop\+\_\+balancer.\+c 第 63 行定义.

\hypertarget{loop__balancer_8c_ac025f218f22410cf0e60980bbd93c5e3}{}\index{loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}!loop\+\_\+balancer\+\_\+choose@{loop\+\_\+balancer\+\_\+choose}}
\index{loop\+\_\+balancer\+\_\+choose@{loop\+\_\+balancer\+\_\+choose}!loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}}
\subsubsection[{loop\+\_\+balancer\+\_\+choose}]{\setlength{\rightskip}{0pt plus 5cm}{\bf loop\+\_\+t}$\ast$ loop\+\_\+balancer\+\_\+choose (
\begin{DoxyParamCaption}
\item[{{\bf loop\+\_\+balancer\+\_\+t} $\ast$}]{balancer}
\end{DoxyParamCaption}
)}\label{loop__balancer_8c_ac025f218f22410cf0e60980bbd93c5e3}
负载均衡 -\/ 选取一个loop\+\_\+t实例 
\begin{DoxyParams}{参数}
{\em balancer} & loop\+\_\+balancer\+\_\+t实例 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
loop\+\_\+t实例 
\end{DoxyReturn}


在文件 loop\+\_\+balancer.\+c 第 116 行定义.

\hypertarget{loop__balancer_8c_a9992a50e96839282c678e51bc11158d1}{}\index{loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}!loop\+\_\+balancer\+\_\+create@{loop\+\_\+balancer\+\_\+create}}
\index{loop\+\_\+balancer\+\_\+create@{loop\+\_\+balancer\+\_\+create}!loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}}
\subsubsection[{loop\+\_\+balancer\+\_\+create}]{\setlength{\rightskip}{0pt plus 5cm}{\bf loop\+\_\+balancer\+\_\+t}$\ast$ loop\+\_\+balancer\+\_\+create (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{loop__balancer_8c_a9992a50e96839282c678e51bc11158d1}
创建负载均衡器 \begin{DoxyReturn}{返回}
loop\+\_\+balancer\+\_\+t实例 
\end{DoxyReturn}


在文件 loop\+\_\+balancer.\+c 第 41 行定义.

\hypertarget{loop__balancer_8c_a2d702b5f965fe587fdaea3f5f9e2400c}{}\index{loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}!loop\+\_\+balancer\+\_\+destroy@{loop\+\_\+balancer\+\_\+destroy}}
\index{loop\+\_\+balancer\+\_\+destroy@{loop\+\_\+balancer\+\_\+destroy}!loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}}
\subsubsection[{loop\+\_\+balancer\+\_\+destroy}]{\setlength{\rightskip}{0pt plus 5cm}void loop\+\_\+balancer\+\_\+destroy (
\begin{DoxyParamCaption}
\item[{{\bf loop\+\_\+balancer\+\_\+t} $\ast$}]{balancer}
\end{DoxyParamCaption}
)}\label{loop__balancer_8c_a2d702b5f965fe587fdaea3f5f9e2400c}
销毁负载均衡器 
\begin{DoxyParams}{参数}
{\em balancer} & loop\+\_\+balancer\+\_\+t实例 \\
\hline
\end{DoxyParams}


在文件 loop\+\_\+balancer.\+c 第 51 行定义.

\hypertarget{loop__balancer_8c_a548ce0c2c624c4f4731a0f963d2ca42a}{}\index{loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}!loop\+\_\+balancer\+\_\+detach@{loop\+\_\+balancer\+\_\+detach}}
\index{loop\+\_\+balancer\+\_\+detach@{loop\+\_\+balancer\+\_\+detach}!loop\+\_\+balancer.\+c@{loop\+\_\+balancer.\+c}}
\subsubsection[{loop\+\_\+balancer\+\_\+detach}]{\setlength{\rightskip}{0pt plus 5cm}int loop\+\_\+balancer\+\_\+detach (
\begin{DoxyParamCaption}
\item[{{\bf loop\+\_\+balancer\+\_\+t} $\ast$}]{balancer, }
\item[{{\bf loop\+\_\+t} $\ast$}]{loop}
\end{DoxyParamCaption}
)}\label{loop__balancer_8c_a548ce0c2c624c4f4731a0f963d2ca42a}
从负载均衡器内删除事件循环 
\begin{DoxyParams}{参数}
{\em balancer} & loop\+\_\+balancer\+\_\+t实例 \\
\hline
{\em loop} & loop\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em 其他} & 失败 \\
\hline
\end{DoxyRetVals}


在文件 loop\+\_\+balancer.\+c 第 89 行定义.

