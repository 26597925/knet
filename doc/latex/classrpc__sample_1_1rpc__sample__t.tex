\hypertarget{classrpc__sample_1_1rpc__sample__t}{}\section{rpc\+\_\+sample\+\_\+t}
\label{classrpc__sample_1_1rpc__sample__t}\index{rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+\_\+t}}


{\ttfamily \#include \char`\"{}rpc\+\_\+sample.\+h\char`\"{}}

\subsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classrpc__sample_1_1rpc__sample__t_a5fadb73b0293c923802be0585ed0aef7}{$\sim$rpc\+\_\+sample\+\_\+t} ()
\item 
int \hyperlink{classrpc__sample_1_1rpc__sample__t_a6816697300fea69a29dd9ee4225c70be}{my\+\_\+rpc\+\_\+func1} (\hyperlink{config_8h_a261dba04f46f5c59a68a05f69f5a65a8}{stream\+\_\+t} $\ast$stream, \hyperlink{structrpc__sample_1_1my__object__t}{my\+\_\+object\+\_\+t} \&my\+\_\+obj)
\item 
int \hyperlink{classrpc__sample_1_1rpc__sample__t_ae15eff7ca37c2490467a6b8244af5898}{my\+\_\+rpc\+\_\+func2} (\hyperlink{config_8h_a261dba04f46f5c59a68a05f69f5a65a8}{stream\+\_\+t} $\ast$stream, std\+::vector$<$ \hyperlink{structrpc__sample_1_1my__object__t}{my\+\_\+object\+\_\+t} $>$ \&my\+\_\+objs, int8\+\_\+t my\+\_\+i8)
\item 
int \hyperlink{classrpc__sample_1_1rpc__sample__t_ab66cd17879eff5b0f41e8b35477c579f}{my\+\_\+rpc\+\_\+func3} (\hyperlink{config_8h_a261dba04f46f5c59a68a05f69f5a65a8}{stream\+\_\+t} $\ast$stream, const std\+::string \&my\+\_\+str, int8\+\_\+t my\+\_\+i8)
\item 
int \hyperlink{classrpc__sample_1_1rpc__sample__t_a33828bf33ef507e4b26d259f74704d53}{rpc\+\_\+proc} (\hyperlink{config_8h_a261dba04f46f5c59a68a05f69f5a65a8}{stream\+\_\+t} $\ast$stream)
\end{DoxyCompactItemize}
\subsection*{静态 Public 成员函数}
\begin{DoxyCompactItemize}
\item 
static void \hyperlink{classrpc__sample_1_1rpc__sample__t_a32d626626eee0bc4ade146973f6abb1c}{finalize} ()
\item 
static \hyperlink{classrpc__sample_1_1rpc__sample__t}{rpc\+\_\+sample\+\_\+t} $\ast$ \hyperlink{classrpc__sample_1_1rpc__sample__t_ad041951322824124d5b5f0ab8c9fc6f1}{instance} ()
\end{DoxyCompactItemize}
\subsection*{Private 成员函数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classrpc__sample_1_1rpc__sample__t_a80e5cd04284d2f0fe09a09632d7b4d05}{rpc\+\_\+sample\+\_\+t} ()
\item 
\hyperlink{classrpc__sample_1_1rpc__sample__t_a12c9f77574aa1d207370194feaa514de}{rpc\+\_\+sample\+\_\+t} (const \hyperlink{classrpc__sample_1_1rpc__sample__t}{rpc\+\_\+sample\+\_\+t} \&)
\end{DoxyCompactItemize}
\subsection*{Private 属性}
\begin{DoxyCompactItemize}
\item 
\hyperlink{config_8h_a1e414ac6f6de24462ccf81e10f63428d}{krpc\+\_\+t} $\ast$ \hyperlink{classrpc__sample_1_1rpc__sample__t_a9e1768d7a6a84aa321a1e51a4b622c2d}{\+\_\+rpc}
\end{DoxyCompactItemize}
\subsection*{静态 Private 属性}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{classrpc__sample_1_1rpc__sample__t}{rpc\+\_\+sample\+\_\+t} $\ast$ \hyperlink{classrpc__sample_1_1rpc__sample__t_ab21a57379ad2184d3f228b9dfca29ad9}{\+\_\+instance} = 0
\end{DoxyCompactItemize}


\subsection{详细描述}
R\+P\+C单件类 

在文件 rpc\+\_\+sample.\+h 第 159 行定义.



\subsection{构造及析构函数说明}
\hypertarget{classrpc__sample_1_1rpc__sample__t_a5fadb73b0293c923802be0585ed0aef7}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!````~rpc\+\_\+sample\+\_\+t@{$\sim$rpc\+\_\+sample\+\_\+t}}
\index{````~rpc\+\_\+sample\+\_\+t@{$\sim$rpc\+\_\+sample\+\_\+t}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{$\sim$rpc\+\_\+sample\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}$\sim${\bf rpc\+\_\+sample\+\_\+t} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}\label{classrpc__sample_1_1rpc__sample__t_a5fadb73b0293c923802be0585ed0aef7}
析构 

在文件 rpc\+\_\+sample.\+cpp 第 288 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_a80e5cd04284d2f0fe09a09632d7b4d05}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+\_\+t}}
\index{rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+\_\+t}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{rpc\+\_\+sample\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rpc\+\_\+sample\+\_\+t} (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classrpc__sample_1_1rpc__sample__t_a80e5cd04284d2f0fe09a09632d7b4d05}
构造函数 

在文件 rpc\+\_\+sample.\+cpp 第 281 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_a12c9f77574aa1d207370194feaa514de}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+\_\+t}}
\index{rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+\_\+t}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{rpc\+\_\+sample\+\_\+t}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rpc\+\_\+sample\+\_\+t} (
\begin{DoxyParamCaption}
\item[{const {\bf rpc\+\_\+sample\+\_\+t} \&}]{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [private]}}\label{classrpc__sample_1_1rpc__sample__t_a12c9f77574aa1d207370194feaa514de}
拷贝构造 

\subsection{成员函数说明}
\hypertarget{classrpc__sample_1_1rpc__sample__t_a32d626626eee0bc4ade146973f6abb1c}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!finalize@{finalize}}
\index{finalize@{finalize}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{finalize}]{\setlength{\rightskip}{0pt plus 5cm}void finalize (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{classrpc__sample_1_1rpc__sample__t_a32d626626eee0bc4ade146973f6abb1c}
销毁单件 

在文件 rpc\+\_\+sample.\+cpp 第 299 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_ad041951322824124d5b5f0ab8c9fc6f1}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!instance@{instance}}
\index{instance@{instance}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{instance}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rpc\+\_\+sample\+\_\+t} $\ast$ instance (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}}\label{classrpc__sample_1_1rpc__sample__t_ad041951322824124d5b5f0ab8c9fc6f1}
取得单件指针 \begin{DoxyReturn}{返回}
rpc\+\_\+sample\+\_\+t指针 
\end{DoxyReturn}


在文件 rpc\+\_\+sample.\+cpp 第 292 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_a6816697300fea69a29dd9ee4225c70be}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!my\+\_\+rpc\+\_\+func1@{my\+\_\+rpc\+\_\+func1}}
\index{my\+\_\+rpc\+\_\+func1@{my\+\_\+rpc\+\_\+func1}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{my\+\_\+rpc\+\_\+func1}]{\setlength{\rightskip}{0pt plus 5cm}int my\+\_\+rpc\+\_\+func1 (
\begin{DoxyParamCaption}
\item[{{\bf stream\+\_\+t} $\ast$}]{stream, }
\item[{{\bf my\+\_\+object\+\_\+t} \&}]{my\+\_\+obj}
\end{DoxyParamCaption}
)}\label{classrpc__sample_1_1rpc__sample__t_a6816697300fea69a29dd9ee4225c70be}
my\+\_\+rpc\+\_\+func1 R\+P\+C调用示例 
\begin{DoxyParams}{参数}
{\em stream} & stream\+\_\+t实例 \\
\hline
{\em my\+\_\+obj} & 参数1 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em error\+\_\+rpc\+\_\+marshal\+\_\+fail} & 序列化\+R\+P\+C调用时失败 \\
\hline
\end{DoxyRetVals}


在文件 rpc\+\_\+sample.\+cpp 第 309 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_ae15eff7ca37c2490467a6b8244af5898}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!my\+\_\+rpc\+\_\+func2@{my\+\_\+rpc\+\_\+func2}}
\index{my\+\_\+rpc\+\_\+func2@{my\+\_\+rpc\+\_\+func2}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{my\+\_\+rpc\+\_\+func2}]{\setlength{\rightskip}{0pt plus 5cm}int my\+\_\+rpc\+\_\+func2 (
\begin{DoxyParamCaption}
\item[{{\bf stream\+\_\+t} $\ast$}]{stream, }
\item[{std\+::vector$<$ {\bf my\+\_\+object\+\_\+t} $>$ \&}]{my\+\_\+objs, }
\item[{int8\+\_\+t}]{my\+\_\+i8}
\end{DoxyParamCaption}
)}\label{classrpc__sample_1_1rpc__sample__t_ae15eff7ca37c2490467a6b8244af5898}
my\+\_\+rpc\+\_\+func2 R\+P\+C调用示例 
\begin{DoxyParams}{参数}
{\em stream} & stream\+\_\+t实例 \\
\hline
{\em my\+\_\+objs} & 参数1 \\
\hline
{\em my\+\_\+i8} & 参数2 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em error\+\_\+rpc\+\_\+marshal\+\_\+fail} & 序列化\+R\+P\+C调用时失败 \\
\hline
\end{DoxyRetVals}


在文件 rpc\+\_\+sample.\+cpp 第 316 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_ab66cd17879eff5b0f41e8b35477c579f}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!my\+\_\+rpc\+\_\+func3@{my\+\_\+rpc\+\_\+func3}}
\index{my\+\_\+rpc\+\_\+func3@{my\+\_\+rpc\+\_\+func3}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{my\+\_\+rpc\+\_\+func3}]{\setlength{\rightskip}{0pt plus 5cm}int my\+\_\+rpc\+\_\+func3 (
\begin{DoxyParamCaption}
\item[{{\bf stream\+\_\+t} $\ast$}]{stream, }
\item[{const std\+::string \&}]{my\+\_\+str, }
\item[{int8\+\_\+t}]{my\+\_\+i8}
\end{DoxyParamCaption}
)}\label{classrpc__sample_1_1rpc__sample__t_ab66cd17879eff5b0f41e8b35477c579f}
my\+\_\+rpc\+\_\+func3 R\+P\+C调用示例 
\begin{DoxyParams}{参数}
{\em stream} & stream\+\_\+t实例 \\
\hline
{\em my\+\_\+str} & 参数1 \\
\hline
{\em my\+\_\+i8} & 参数2 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功 \\
\hline
{\em error\+\_\+rpc\+\_\+marshal\+\_\+fail} & 序列化\+R\+P\+C调用时失败 \\
\hline
\end{DoxyRetVals}


在文件 rpc\+\_\+sample.\+cpp 第 323 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_a33828bf33ef507e4b26d259f74704d53}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!rpc\+\_\+proc@{rpc\+\_\+proc}}
\index{rpc\+\_\+proc@{rpc\+\_\+proc}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{rpc\+\_\+proc}]{\setlength{\rightskip}{0pt plus 5cm}int rpc\+\_\+proc (
\begin{DoxyParamCaption}
\item[{{\bf stream\+\_\+t} $\ast$}]{stream}
\end{DoxyParamCaption}
)}\label{classrpc__sample_1_1rpc__sample__t_a33828bf33ef507e4b26d259f74704d53}
从stream\+\_\+t读取\+R\+P\+C调用请求 
\begin{DoxyParams}{参数}
{\em stream} & stream\+\_\+t实例 \\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{返回值}
{\em error\+\_\+ok} & 成功处理一次\+R\+P\+C调用 \\
\hline
{\em error\+\_\+rpc\+\_\+not\+\_\+enough\+\_\+bytes} & 没有完整的\+R\+P\+C可以处理 \\
\hline
{\em error\+\_\+rpc\+\_\+unmarshal\+\_\+fail} & 处理\+R\+P\+C包字节流时读取失败 \\
\hline
{\em error\+\_\+rpc\+\_\+unknown\+\_\+id} & 读取到\+R\+P\+C调用，但\+R\+P\+C I\+D未注册 \\
\hline
{\em error\+\_\+rpc\+\_\+cb\+\_\+fail} & 调用\+R\+P\+C处理函数时，处理函数内部发生错误 \\
\hline
{\em error\+\_\+rpc\+\_\+cb\+\_\+fail\+\_\+close} & 调用\+R\+P\+C处理函数时，处理函数内部发生错误，处理函数要求关闭stream\+\_\+t相关联的管道 \\
\hline
{\em error\+\_\+rpc\+\_\+cb\+\_\+close} & 调用\+R\+P\+C处理函数后，处理函数要求关闭stream\+\_\+t相关联的管道 \\
\hline
{\em error\+\_\+rpc\+\_\+unknown\+\_\+type} & R\+P\+C类型错误 \\
\hline
\end{DoxyRetVals}


在文件 rpc\+\_\+sample.\+cpp 第 305 行定义.



\subsection{结构体成员变量说明}
\hypertarget{classrpc__sample_1_1rpc__sample__t_ab21a57379ad2184d3f228b9dfca29ad9}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!\+\_\+instance@{\+\_\+instance}}
\index{\+\_\+instance@{\+\_\+instance}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{\+\_\+instance}]{\setlength{\rightskip}{0pt plus 5cm}{\bf rpc\+\_\+sample\+\_\+t} $\ast$ \+\_\+instance = 0\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [private]}}\label{classrpc__sample_1_1rpc__sample__t_ab21a57379ad2184d3f228b9dfca29ad9}


在文件 rpc\+\_\+sample.\+h 第 232 行定义.

\hypertarget{classrpc__sample_1_1rpc__sample__t_a9e1768d7a6a84aa321a1e51a4b622c2d}{}\index{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}!\+\_\+rpc@{\+\_\+rpc}}
\index{\+\_\+rpc@{\+\_\+rpc}!rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t@{rpc\+\_\+sample\+::rpc\+\_\+sample\+\_\+t}}
\subsubsection[{\+\_\+rpc}]{\setlength{\rightskip}{0pt plus 5cm}{\bf krpc\+\_\+t}$\ast$ \+\_\+rpc\hspace{0.3cm}{\ttfamily [private]}}\label{classrpc__sample_1_1rpc__sample__t_a9e1768d7a6a84aa321a1e51a4b622c2d}


在文件 rpc\+\_\+sample.\+h 第 233 行定义.



该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
E\+:/knet-\/git/knet/krpc/examples/\hyperlink{rpc__sample_8h}{rpc\+\_\+sample.\+h}\item 
E\+:/knet-\/git/knet/krpc/examples/\hyperlink{rpc__sample_8cpp}{rpc\+\_\+sample.\+cpp}\end{DoxyCompactItemize}
